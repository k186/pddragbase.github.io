{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/dragBase/dragresize/resizeable/resizeable.vue?0e45","webpack:///./src/views/create.vue?6003","webpack:///src/views/create.vue","webpack:///./src/views/create.vue?bd91","webpack:///./src/views/create.vue?c1a9","webpack:///./src/views/roate.vue?ab83","webpack:///./src/dragBase/dragresize/dragresizeroate/dragresizeroate.vue?1de1","webpack:///src/dragBase/dragresize/dragresizeroate/dragresizeroate.vue","webpack:///./src/dragBase/dragresize/dragresizeroate/dragresizeroate.vue?c3ec","webpack:///./src/dragBase/dragresize/dragresizeroate/dragresizeroate.vue?d12c","webpack:///src/views/roate.vue","webpack:///./src/views/roate.vue?1cb9","webpack:///./src/views/roate.vue","webpack:///./src/customComponents/dtext/dtext.vue?8560","webpack:///src/customComponents/dtext/dtext.vue","webpack:///./src/customComponents/dtext/dtext.vue?0b32","webpack:///./src/customComponents/dtext/dtext.vue?8c7c","webpack:///./src/customComponents/root/root.vue?3f3b","webpack:///src/customComponents/root/root.vue","webpack:///./src/customComponents/root/root.vue?1de1","webpack:///./src/customComponents/root/root.vue?56ef","webpack:///./src/customComponents/installComponents.js","webpack:///./src/dragBase/pdDragBase/pdDragBase.vue?a42d","webpack:///./src/dragBase/dragresize/resizeable/resizeable.vue?40c8","webpack:///./src/dragBase/components/dragdropbox.vue?8d4d","webpack:///./src/dragBase/utils/utils.js","webpack:///./src/dragBase/event.js","webpack:///src/dragBase/components/dragdropbox.vue","webpack:///./src/dragBase/components/dragdropbox.vue?4029","webpack:///./src/dragBase/components/dragdropbox.vue?8922","webpack:///src/dragBase/dragresize/resizeable/resizeable.vue","webpack:///./src/dragBase/dragresize/resizeable/resizeable.vue?b841","webpack:///./src/dragBase/dragresize/resizeable/resizeable.vue?9805","webpack:///./src/dragBase/dragresize/directives/pdruler/ruler.js","webpack:///./src/dragBase/dragresize/directives/pdruler/panmove.js","webpack:///./src/dragBase/dragresize/directives/pdruler/pdruler.js","webpack:///./src/dragBase/dragresize/directives/frameselect/frameselect.js","webpack:///./src/dragBase/pdDragBase/mixins.js","webpack:///src/dragBase/pdDragBase/pdDragBase.vue","webpack:///./src/dragBase/pdDragBase/pdDragBase.vue?aeae","webpack:///./src/dragBase/pdDragBase/pdDragBase.vue?fb01","webpack:///./src/dragBase/install.js","webpack:///./src/main.js","webpack:///./src/customComponents/root/root.vue?d826","webpack:///./src/dragBase/dragresize/dragresizeroate/dragresizeroate.vue?e802","webpack:///./src/dragBase/components/dragdropbox.vue?d90b","webpack:///./src/customComponents/dtext/dtext.vue?21b7","webpack:///./src/dragBase/pdDragBase/pdDragBase.vue?c95a","webpack:///./src/views/create.vue?fe99"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","on","initEvt","_v","initTreeEvt","add","add2","$event","zMove","directives","rawName","expression","attrs","domProps","target","composing","movestep","move","copy","paste","undo","group","breakGroup","deleteSelect","scale","width","edit","edit2","frameSelectType","stackLength","root","_s","selected","staticRenderFns","rightMenu","type","evt","rightText","sketch","lock","initTree","height","to","left","children","mounted","methods","$refs","$bind","document","addEventListener","e","shiftKey","inited","snapShot","zIndex","addToSketch","parent","item","rotateable","updateItem","id","customAttribute","dataSource","abc","ef","eef","beforeCopy","console","log","val","Promise","resolve","beforeDelete","watch","handler","deep","component","class","active","activeable","style","bodyDown","_l","stick","stickIndex","activeStick","stopPropagation","preventDefault","stickDown","_e","sticks","indexOf","rotateDown","_t","props","snap","Boolean","default","snapTolerance","Number","validator","hidden","w","h","x","y","z","String","Array","draggable","resizeable","widthRange","heightRange","rulerScale","whRatio","top","bottom","right","rotate","currentStick","moving","computed","transform","visibility","rotateSticks","filter","posData","Math","round","minOffsetLeft","parentWidth","minWidth","maxOffsetLeft","maxWidth","minOffsetTop","parentHeight","minHeight","maxOffsetTop","maxHeight","init","beforeDestroy","documentElement","removeEventListener","up","getScale","parseFloat","calcMinWidth","min","calcMaxWidth","max","Infinity","calcMinHeight","calcMaxHeight","setLimitValue","getParentsRotate","path","len","element","$el","getElementRotate","matrixInfo","match","angle","parentElement","parentNode","clientWidth","clientHeight","bodyStartPos","mx","my","ev","bodyDrag","clientX","clientY","parentsRotate","$emit","createVdrs","stickDrag","index","stickMove","rotateDrag","pointB","pointA","rotateMove","pointC","direct","bodyMove","refLine","JSON","parse","stringify","temArr","removeVdrs","calcLineValues","formatTransformVal","matrix","matrixType","matrixValues","vdrs","unshift","vdr","className","prepend","forEach","el","remove","isNaN","components","pdDragResizeRotate","renderData","required","renderStyle","background","dtext","install","Vue","installed","map","ruleConfig","excluded","box","frameselectEvt","cleanSelect","sketchupData","$index","refInFor","getRefLineParams","position","origin","lineLength","setDragDropBoxClass","mm2px","isLock","dragStop","dragStart","dragging","resizeStart","resizeStop","rotateStart","rotateStop","beforeSelect","res","nativeOn","parentActiveChild","arguments","tag","$elIndex","childActiveAble","uuid","temp_url","URL","createObjectURL","Blob","toString","revokeObjectURL","substr","lastIndexOf","isPromise","obj","then","isArray","throttle","fn","delay","timer","firstTime","args","setTimeout","clearTimeout","getAxis","arr","xMin","yMin","xMax","yMax","pass","undefined","intersect","droppable","toleranceMode","event","x1","y1","x2","y2","b","isOverAxis","pageY","pageX","reference","size","hasClass","classList","contains","getSelection","empty","removeAllRanges","selection","groupBox","initAddData","state","parentId","k","sketchupMap","deActiveChild","groupData","select","coord","findIndex","ele","breakGroupData","updateValueByPath","vm","tempObj","replace","keyArr","split","constructor","key2","$set","getValueByPath","unselect","ctrlKey","set","sketchup","out","dealMap","Bus","bus","copyData","snapshotStack","snapshotLength","snapshotIndex","created","$on","ids","$nextTick","exist","keys","updates","keypath","update","items","child","tree","updateGroupBox","updateConfig","config","trigger","orPos","diffPos","vLine","hLine","px2mm","ruler","options","api","builder","constructRulers","VERTICAL","HORIZONTAL","CUR_DELTA_X","CUR_DELTA_Y","CUR_SCALE","rulerz","guides","theRulerDOM","createElement","corners","defaultOptions","rulerHeight","fontFamily","fontSize","strokeStyle","sides","cornerSides","lineWidth","enableMouseTracking","enableToolTip","rotateRuler","curRuler","rotation","utils","pixelize","abs","parseInt","canvas","webkitTransform","MozTransform","OTransform","msTransform","webkitTransformOrigin","MozTransformOrigin","OTransformOrigin","msTransformOrigin","transformOrigin","positionRuler","alignment","orgPos","attachListeners","container","curRul","mousedown","constructGuide","dimension","clearListeners","isSet","guideIndex","moveCB","line","coor","assigned","some","guideLine","destroy","guide","guideStyle","curDelta","title","addClasss","appendChild","getBoundingClientRect","querySelector","constructRuler","rulerStyle","rulerConstructor","drawRuler","constructCorner","cornerDraw","side","corner","cornerStyle","toUpperCase","cornerNode","bg","bg2","clearGuides","removeChild","mouseup","stopDrag","curOptions","extend","forEachRuler","cb","rul","setPos","values","orgY","orgX","deltaX","deltaY","curPosDelta","setScale","newScale","curPos","orgDelta","curScaleFac","context","clearRect","beginPath","stroke","curScale","setUnit","newUnit","toggleGuideVisibility","func","toggleRulerVisibility","display","trackers","querySelectorAll","getGuides","posX","posY","setGuides","_guides","_canvas","rulDimension","getContext","rulThickness","rulLength","rulScale","unit","tracker","getLength","getThickness","drawPoints","_rulerLength","_rulerThickness","_rulerScale","fillStyle","fillRect","font","pointLength","label","delta","draw","lineLengthMax","lineLengthMed","lineLengthMin","pos","moveTo","lineTo","fillText","unitPX","toFixed","mousemove","initTracker","_dragContainer","lineDimension","self","_curScale","_assigned","_curPosDelta","dragContainer","xpos","ypos","updateToolTip","startMoving","divTop","divLeft","eWi","offsetWidth","eHe","offsetHeight","cWi","cHe","cursor","diffX","diffY","onmousemove","aX","aY","showToolTip","stopMoving","hideToolTip","removeClasss","dataset","tip","dblclick","hide","show","setAsDraggable","startDrag","prependChild","insertBefore","firstChild","classNames","curCalsss","_fn","PANMOVE","RULER","DEFAULTSCALE","CONFIG","maxScale","minScale","speed","Panmove","$config","assign","zoomDom","eventDom","center","lastPos","evtDom","u","v","lastScale","wheelDelta","scaleRate","x0","getRect","y0","offsetX","offsetY","matrixTo","cal","dom","canMove","$oldPos","moveStart","getMatrix","maskLoad","mask","button","getStartPos","append","old","moveStop","ready","code","addMask","cancel","removeMask","mouseUp","mouseWheel","metaKey","zoom","a","f","sx","sy","warn","inserted","binding","Ruler","panmove","body","passive","unbind","border","startPos","setAttribute","componentUpdated","rect","getTouchBox","childNodes","hasAttribute","getAttribute","$fire","direction","promise","redo","mixins","beforeMount","getLayerSize","Function","beforeAdd","selectedMap","$unbind","updated","pdDragBase","use","installComponents","productionTip","render","$mount"],"mappings":"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","file":"js/app.34ad77b2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resizeable.vue?vue&type=style&index=0&id=1325e3e2&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create\"},[_c('div',{staticClass:\"btn-box\",staticStyle:{\"width\":\"200px\",\"overflow-y\":\"auto\",\"overflow-x\":\"hidden\"}},[_c('button',{ref:\"initEvt\",staticClass:\"btn\",on:{\"click\":_vm.initEvt}},[_vm._v(\"\")]),_c('button',{ref:\"initTreeEvt\",staticClass:\"btn\",on:{\"click\":_vm.initTreeEvt}},[_vm._v(\"\")]),_c('button',{ref:\"add\",staticClass:\"btn\",on:{\"click\":_vm.add}},[_vm._v(\"\")]),_c('button',{ref:\"add2\",staticClass:\"btn\",on:{\"click\":_vm.add2}},[_vm._v(\"\")]),_c('div',[_vm._v(\"ZIndex\")]),_c('button',{ref:\"bringForward\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.zMove('bringForward')}}},[_vm._v(\"\")]),_c('button',{ref:\"sendBackward\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.zMove('sendBackward')}}},[_vm._v(\"\")]),_c('button',{ref:\"bringToFront\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.zMove('bringToFront')}}},[_vm._v(\"\")]),_c('button',{ref:\"sendToBack\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.zMove('sendToBack')}}},[_vm._v(\"\")]),_c('div',[_vm._v(\"\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.movestep),expression:\"movestep\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.movestep)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.movestep=$event.target.value}}}),_c('button',{ref:\"up\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.move('up')}}},[_vm._v(\"\")]),_c('button',{ref:\"down\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.move('down')}}},[_vm._v(\"\")]),_c('button',{ref:\"left\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.move('left')}}},[_vm._v(\"\")]),_c('button',{ref:\"right\",staticClass:\"btn\",on:{\"click\":function($event){return _vm.move('right')}}},[_vm._v(\"\")]),_c('div',[_vm._v(\"\")]),_c('button',{ref:\"copy\",staticClass:\"btn\",on:{\"click\":_vm.copy}},[_vm._v(\"\")]),_c('button',{ref:\"paste\",staticClass:\"btn\",on:{\"click\":_vm.paste}},[_vm._v(\"\")]),_c('button',{ref:\"undo\",staticClass:\"btn\",on:{\"click\":_vm.undo}},[_vm._v(\"\")]),_c('button',{ref:\"group\",staticClass:\"btn\",on:{\"click\":_vm.group}},[_vm._v(\"\")]),_c('button',{ref:\"breakGroup\",staticClass:\"btn\",on:{\"click\":_vm.breakGroup}},[_vm._v(\"\")]),_c('button',{ref:\"deleteSelect\",staticClass:\"btn\",on:{\"click\":_vm.deleteSelect}},[_vm._v(\"\")]),_c('button',{ref:\"scale\",staticClass:\"btn\",on:{\"click\":_vm.scale}},[_vm._v(\"\")]),_c('div',[_vm._v(\"\")]),_c('div',{staticClass:\"edit\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.width),expression:\"width\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.width)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.width=$event.target.value}}}),_c('button',{ref:\"edit\",staticClass:\"btn\",on:{\"click\":_vm.edit}},[_vm._v(\"\")]),_c('button',{ref:\"edit\",staticClass:\"btn\",on:{\"click\":_vm.edit2}},[_vm._v(\"edit2\")])])]),_c('pdDragBase',{ref:\"sketch\",attrs:{\"ruleConfig\":{\n                frameSelectType:'touch',\n                stackLength:20,\n                 //scale:3.7795276/*mm 2 px*/\n                 scale:1/*mm 2 px*/\n          }}},[_c('droot',{attrs:{\"renderData\":_vm.root}})],1),_c('div',{staticStyle:{\"width\":\"200px\"}},[_c('input',{attrs:{\"type\":\"text\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.selected)+\"\\n\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"create\">\r\n    <!--  url-->\r\n    <div style=\"width: 200px;overflow-y: auto;overflow-x: hidden\" class=\"btn-box\">\r\n      <button ref=\"initEvt\" class=\"btn\" @click=\"initEvt\"></button>\r\n      <button ref=\"initTreeEvt\" class=\"btn\" @click=\"initTreeEvt\"></button>\r\n      <button ref=\"add\" class=\"btn\" @click=\"add\"></button>\r\n      <button ref=\"add2\" class=\"btn\" @click=\"add2\"></button>\r\n      <div>ZIndex</div>\r\n      <button ref=\"bringForward\" class=\"btn\" @click=\"zMove('bringForward')\"></button>\r\n      <button ref=\"sendBackward\" class=\"btn\" @click=\"zMove('sendBackward')\"></button>\r\n      <button ref=\"bringToFront\" class=\"btn\" @click=\"zMove('bringToFront')\"></button>\r\n      <button ref=\"sendToBack\" class=\"btn\" @click=\"zMove('sendToBack')\"></button>\r\n      <div></div>\r\n      <input type=\"text\" v-model=\"movestep\"/>\r\n      <button ref=\"up\" class=\"btn\" @click=\"move('up')\"></button>\r\n      <button ref=\"down\" class=\"btn\" @click=\"move('down')\"></button>\r\n      <button ref=\"left\" class=\"btn\" @click=\"move('left')\"></button>\r\n      <button ref=\"right\" class=\"btn\" @click=\"move('right')\"></button>\r\n      <div></div>\r\n      <button ref=\"copy\" class=\"btn\" @click=\"copy\"></button>\r\n      <button ref=\"paste\" class=\"btn\" @click=\"paste\"></button>\r\n      <button ref=\"undo\" class=\"btn\" @click=\"undo\"></button>\r\n      <button ref=\"group\" class=\"btn\" @click=\"group\"></button>\r\n      <button ref=\"breakGroup\" class=\"btn\" @click=\"breakGroup\"></button>\r\n      <button ref=\"deleteSelect\" class=\"btn\" @click=\"deleteSelect\"></button>\r\n      <button ref=\"scale\" class=\"btn\" @click=\"scale\"></button>\r\n      <div></div>\r\n      <div class=\"edit\">\r\n        <input type=\"text\" v-model=\"width\"/>\r\n        <button ref=\"edit\" class=\"btn\" @click=\"edit\"></button>\r\n        <button ref=\"edit\" class=\"btn\" @click=\"edit2\">edit2</button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <!--- -->\r\n    <pdDragBase ref=\"sketch\"\r\n                :ruleConfig=\"{\r\n                  frameSelectType:'touch',\r\n                  stackLength:20,\r\n                   //scale:3.7795276/*mm 2 px*/\r\n                   scale:1/*mm 2 px*/\r\n            }\"\r\n    >\r\n      <droot :renderData=\"root\"></droot>\r\n    </pdDragBase>\r\n\r\n    <!---->\r\n    <div style=\"width: 200px\">\r\n      <input type=\"text\"/>\r\n      {{ selected }}\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  name: \"create\",\r\n  data() {\r\n    return {\r\n      rightMenu: [{\r\n        type: \"xxx\",\r\n        evt: this.rightText\r\n      }],\r\n      sketch: {selected: []},\r\n      selected: [],\r\n      width: 100,\r\n      movestep: 10,\r\n      lock: false,\r\n      initTree: {\r\n        type: 'sketchup',\r\n        width: 100,\r\n        height: 200,\r\n        to: 0,\r\n        left: 0,\r\n        children: []\r\n      },\r\n      root: {}\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    initEvt() {\r\n      this.sketch = this.$refs.sketch;\r\n      this.sketch.$bind('addend', (res) => {\r\n        this.sketch.select({id: res[ 0 ]})\r\n      })\r\n      document.addEventListener('keyup', (e) => {\r\n        if (this.shift) {\r\n          this.sketch.$pureFire('shift', false)\r\n        }\r\n      })\r\n      document.addEventListener('keydown', (e) => {\r\n        if (e.shiftKey) {\r\n          this.shift = true\r\n          this.sketch.$pureFire('shift', true)\r\n        }\r\n      })\r\n      this.inited = true;\r\n    },\r\n    scale() {\r\n      this.lock = !this.lock\r\n      this.sketch.lock({isLock: this.lock})\r\n    },\r\n    initTreeEvt() {\r\n      this.sketch.initTree({\r\n        data: this.initTree,\r\n        snapShot: false\r\n      })\r\n    },\r\n    zMove(type) {\r\n      this.sketch.zIndex({type, id: this.selected[ 0 ].id})\r\n    },\r\n    move(direction) {\r\n      this.sketch.move({direction})\r\n    },\r\n    /*----*/\r\n    copy() {\r\n      this.sketch.copy()\r\n    },\r\n    paste() {\r\n      this.sketch.paste()\r\n    },\r\n    undo() {\r\n      this.sketch.undo()\r\n    },\r\n    group() {\r\n      this.sketch.group()\r\n    },\r\n    breakGroup() {\r\n      this.sketch.breakGroup()\r\n    },\r\n    deleteSelect() {\r\n      this.sketch.deleteSelect()\r\n    },\r\n    /*----*/\r\n    add() {\r\n      this.sketch.addToSketch(\r\n          {\r\n            item: [{\r\n              \"left\": 148,\r\n              \"top\": 63,\r\n\r\n              \"rotate\": 0,\r\n              \"width\": 31,\r\n              \"height\": 38,\r\n              \"active\": true,\r\n              \"childActiveAble\": false,\r\n              \"type\": \"dtext\",\r\n              \"children\": [],\r\n              \"id\": \"e7c02a03-0142-4af1-a49d-2e09461d1909\",\r\n              \"parentId\": \"4d7438ad-fe8c-4356-89f0-b0385c81b811\"\r\n            }, {\r\n              \"left\": 58,\r\n              \"top\": 87,\r\n              \"width\": 50,\r\n              \"height\": 50,\r\n              \"active\": false,\r\n              \"childActiveAble\": false,\r\n              \"type\": \"dtext\",\r\n              \"children\": [],\r\n              \"id\": \"16ddeef0-9c50-477f-8ff7-07d24e7d8920\",\r\n              \"parentId\": \"4d7438ad-fe8c-4356-89f0-b0385c81b811\",\r\n              \"initXY\": {}\r\n            }, {\r\n              \"left\": 6,\r\n              \"top\": 3,\r\n              \"width\": 56,\r\n              \"height\": 75,\r\n              \"type\": \"dragdropbox\",\r\n              \"id\": \"432cb02c-a9fa-4a48-baa5-0c529636243a\",\r\n              \"parentId\": \"4d7438ad-fe8c-4356-89f0-b0385c81b811\",\r\n              \"initXY\": {},\r\n              \"active\": false,\r\n              \"childActiveAble\": false,\r\n              \"children\": [{\r\n                \"left\": 0,\r\n                \"top\": 0,\r\n\r\n                \"width\": 42,\r\n                \"height\": 43,\r\n                \"active\": false,\r\n                \"childActiveAble\": false,\r\n                \"type\": \"dtext\",\r\n                \"children\": [],\r\n                \"id\": \"6547406f-103a-4a12-b65f-599a876bb712\",\r\n                \"parentId\": \"432cb02c-a9fa-4a48-baa5-0c529636243a\",\r\n                \"initXY\": {}\r\n              }, {\r\n                \"left\": 28,\r\n                \"top\": 57,\r\n                \"width\": 28,\r\n                \"height\": 18,\r\n                \"active\": false,\r\n                \"childActiveAble\": false,\r\n                \"type\": \"dtext\",\r\n                \"children\": [],\r\n                \"id\": \"25f597b4-955b-439a-9157-38220f46040f\",\r\n                \"parentId\": \"432cb02c-a9fa-4a48-baa5-0c529636243a\",\r\n                \"initXY\": {}\r\n              }]\r\n            }]\r\n          }\r\n      )\r\n    },\r\n    add2() {\r\n      this.sketch.addToSketch({\r\n        parent: this.selected.length === 1 ? this.selected[ 0 ] : null,\r\n        item: [{\r\n          \"left\": 10,\r\n          \"top\": 20,\r\n          \"width\": 50,\r\n          \"height\": 50,\r\n          \"active\": false,\r\n          rotateable: true,\r\n          \"childActiveAble\": false,\r\n          \"type\": \"dtext\",\r\n          \"children\": [],\r\n          \"id\": \"4b133596-62ee-4e70-b3ae-bd93a5482fa6\",\r\n          \"parentId\": null,\r\n          \"initXY\": {}\r\n        }]\r\n      })\r\n      // const component = {\r\n      //   \"type\": '',\r\n      //   \"left\": 0,\r\n      //   \"top\": 0,\r\n      //   \r\n      //   \"rotate\": 0,\r\n      //   \"width\": 0,\r\n      //   \"height\": 0,\r\n      //   \"active\": false,\r\n      //   \"childActiveAble\": false,\r\n      //   \"id\": \"0\",\r\n      //   \"parentId\": null,\r\n      //   \"children\": []\r\n      // }\r\n\r\n    },\r\n    edit() {\r\n\r\n      this.sketch.updateItem({\r\n        id: this.root.id, data: {\r\n          customAttribute: {\r\n            dataSource: 'xxxxx',\r\n            abc: {\r\n              ef: 123\r\n            },\r\n            eef: 213\r\n          }\r\n        }\r\n      })\r\n      // this.sketch.updateItem({\r\n      //   id: this.selected[0].id, data: {\r\n      //     width: 100,\r\n      //     customAttribute: {\r\n      //       dataSource: 'xxxxx',\r\n      //       abc: {\r\n      //         ef: 123\r\n      //       }\r\n      //     }\r\n      //   }\r\n      // })\r\n    },\r\n    edit2() {\r\n      this.sketch.updateItem({id: this.$refs.sketch.sketchupData.id, data: {customAttribute: {eef: 1}}})\r\n      // this.sketch.updateItem({\r\n      //   id: this.selected[0].id, data: {\r\n      //     width: 100, customAttribute: {\r\n      //       abc: {\r\n      //         ff: 123\r\n      //       }\r\n      //     }\r\n      //   }\r\n      // })\r\n    },\r\n    beforeCopy(val) {\r\n      console.log(val, 'beforeCopy')\r\n      /**/\r\n      return new Promise(( (resolve) => {\r\n        //  val\r\n        resolve(val)\r\n      } ))\r\n\r\n      /**/\r\n      /*return val */\r\n    },\r\n    beforeDelete(val) {\r\n      console.log(val, 'beforeDelete')\r\n      return true\r\n    }\r\n  },\r\n  watch: {\r\n    'sketch.selected': {\r\n      handler(val) {\r\n        this.selected = val\r\n      },\r\n      deep: true\r\n    },\r\n    'sketch.sketchupData'(val) {\r\n      this.root = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nbody {\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n.create {\r\n  display: flex;\r\n  height: 100%;\r\n  flex: 1;\r\n}\r\n\r\n.btn-box {\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .btn {\r\n    display: flex;\r\n    width: 100%;\r\n    margin-bottom: 5px;\r\n  }\r\n}\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  height: 100%;\r\n}\r\n\r\nhtml, body {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=08c0d156&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('pdDragResizeRotate',{attrs:{\"active\":\"\",\"r\":\"30\"}},[_c('pdDragResizeRotate',{attrs:{\"active\":\"\",\"r\":\"20\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"vdr\",staticClass:\"vdr\",class:{ 'vdr-active': _vm.active && _vm.activeable, 'vdr-not-active': !_vm.activeable },style:(_vm.style),on:{\"mousedown\":function($event){return _vm.bodyDown($event)}}},[(_vm.active && _vm.activeable)?[(_vm.resizeable)?_vm._l((_vm.rotateSticks),function(stick,stickIndex){return _c('span',{key:stickIndex,staticClass:\"vdr-stick\",class:(\"vdr-stick-\" + stick),style:({ zIndex: _vm.activeStick == stickIndex ? 10 : 9 }),on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.stickDown($event, stick, stickIndex)}}})}):_vm._e(),(_vm.sticks.indexOf('angle') > -1&&_vm.rotateable)?[_c('span',{staticClass:\"vdr-stick-rotate-line\"}),_c('span',{staticClass:\"vdr-stick vdr-rotate\",on:{\"mousedown\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.rotateDown($event)}}})]:_vm._e()]:_vm._e(),_c('div',{ref:\"slot\",staticClass:\"vdr-slot\"},[_vm._t(\"default\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n      :class=\"{ 'vdr-active': active && activeable, 'vdr-not-active': !activeable }\"\r\n      :style=\"style\"\r\n      @mousedown=\"bodyDown($event)\"\r\n      class=\"vdr\"\r\n      ref=\"vdr\"\r\n  >\r\n    <!--  -->\r\n    <template v-if=\"active && activeable\">\r\n      <!--  -->\r\n      <template v-if=\"resizeable\">\r\n        <span\r\n            :class=\"`vdr-stick-${stick}`\"\r\n            :key=\"stickIndex\"\r\n            :style=\"{ zIndex: activeStick == stickIndex ? 10 : 9 }\"\r\n            @mousedown.stop.prevent=\"stickDown($event, stick, stickIndex)\"\r\n            class=\"vdr-stick\"\r\n            v-for=\"(stick, stickIndex) in rotateSticks\"\r\n        ></span>\r\n      </template>\r\n      <!--  -->\r\n      <template v-if=\"sticks.indexOf('angle') > -1&&rotateable\">\r\n        <span class=\"vdr-stick-rotate-line\"></span>\r\n        <span\r\n            @mousedown.stop.prevent=\"rotateDown($event)\"\r\n            class=\"vdr-stick vdr-rotate\"\r\n        ></span>\r\n      </template>\r\n    </template>\r\n\r\n    <!--  -->\r\n    <!--  -->\r\n    <div\r\n        class=\"vdr-slot\"\r\n        ref=\"slot\"\r\n    >\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// \r\nlet pointA = {};\r\nlet pointB = {};\r\nlet pointC = {};\r\n\r\nexport default {\r\n  name: \"pdDragResizeRotate\",\r\n  props: {\r\n    snap: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    snapTolerance: {\r\n      type: Number,\r\n      default: 5,\r\n      validator: function (val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    hidden: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    lock: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    w: {\r\n      type: Number,\r\n      default: 100,\r\n      validator: function (val) {\r\n        return val >= 0;\r\n      }\r\n    },\r\n    h: {\r\n      type: Number,\r\n      default: 100,\r\n      validator: function (val) {\r\n        return val >= 0;\r\n      }\r\n    },\r\n    x: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return typeof val === \"number\";\r\n      }\r\n    },\r\n    y: {\r\n      type: Number,\r\n      default: 0,\r\n      validator: function (val) {\r\n        return typeof val === \"number\";\r\n      }\r\n    },\r\n    z: {\r\n      type: [String, Number],\r\n      default: \"auto\"\r\n    },\r\n    r: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    sticks: {\r\n      type: Array,\r\n      default: function () {\r\n        return [\"tl\", \"tm\", \"tr\", \"mr\", \"br\", \"bm\", \"bl\", \"ml\", \"angle\"];\r\n      }\r\n    },\r\n    active: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    draggable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    resizeable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    rotateable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    activeable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n\r\n    widthRange: {\r\n      type: Array\r\n    },\r\n    heightRange: {\r\n      type: Array\r\n    },\r\n    rulerScale: {\r\n      type: [Number, String],\r\n      default: 1\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      whRatio: 0,\r\n      width: this.w,\r\n      height: this.h,\r\n      zIndex: this.z,\r\n      left: this.x,\r\n      top: this.y,\r\n      bottom: 0,\r\n      right: 0,\r\n      rotate: this.r,\r\n      activeStick: -1,\r\n      currentStick: \"\",\r\n      moving: false\r\n    };\r\n  },\r\n  computed: {\r\n    style() {\r\n      const rotate = `rotateZ(${Math.round(this.rotate)}deg)`;\r\n      const translate = `translate3d(${this.left}px,${this.top}px,0)`;\r\n      return {\r\n        zIndex: this.moving ? 99999 : this.zIndex,\r\n        width: `${this.width}px`,\r\n        height: `${this.height}px`,\r\n        transform: `${translate} ${rotate}`,\r\n        visibility: this.hidden ? \"hidden\" : \"visible\"\r\n      };\r\n    },\r\n    rotateSticks() {\r\n      return this.sticks.filter(itme => itme !== \"angle\");\r\n    },\r\n    posData() {\r\n      return {\r\n        left: this.left,\r\n        top: this.top,\r\n        width: this.width,\r\n        height: this.height,\r\n        rotate: Math.round(this.rotate),\r\n        stick: this.currentStick\r\n      };\r\n    },\r\n    // x\r\n    minOffsetLeft() {\r\n      return this.parentWidth - this.right - this.minWidth;\r\n    },\r\n    maxOffsetLeft() {\r\n      return this.parentWidth - this.right - this.maxWidth;\r\n    },\r\n    // y\r\n    minOffsetTop() {\r\n      return this.parentHeight - this.bottom - this.minHeight;\r\n    },\r\n    maxOffsetTop() {\r\n      return this.parentHeight - this.bottom - this.maxHeight;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  beforeDestroy() {\r\n    // \r\n    document.documentElement.removeEventListener(\"mousemove\", this.move);\r\n    document.documentElement.removeEventListener(\"mouseup\", this.up);\r\n  },\r\n  methods: {\r\n    getScale() {\r\n      return parseFloat(1 / this.rulerScale)\r\n    },\r\n    // \r\n    calcMinWidth() {\r\n      const min = Math.min.apply(null, this.widthRange);\r\n      if (min < 0 || (min >= 0 && min >= this.width)) return 0;\r\n      return min || 0;\r\n    },\r\n    // \r\n    calcMaxWidth() {\r\n      const max = Math.max.apply(null, this.widthRange);\r\n      if (max <= 0 || (max > 0 && max < this.width)) return Infinity;\r\n      return max || Infinity;\r\n    },\r\n    // \r\n    calcMinHeight() {\r\n      let min = Math.min.apply(null, this.heightRange);\r\n      if (min < 0 || (min >= 0 && min >= this.height)) min = 0;\r\n      if (this.lock) {\r\n        if (this.widthRange) {\r\n          return this.minWidth / this.whRatio;\r\n        } else if (this.widthRange == null && this.heightRange) {\r\n          this.minWidth = min * this.whRatio;\r\n        }\r\n      }\r\n      return min || 0;\r\n    },\r\n    // \r\n    calcMaxHeight() {\r\n      let max = Math.max.apply(null, this.heightRange);\r\n      if (max <= 0 || (max > 0 && max < this.height)) max = Infinity;\r\n      if (this.lock) {\r\n        if (this.widthRange) {\r\n          return this.maxWidth / this.whRatio;\r\n        } else if (this.widthRange == null && this.heightRange) {\r\n          this.maxWidth = max * this.whRatio;\r\n        }\r\n      }\r\n      return max || Infinity;\r\n    },\r\n    // \r\n    setLimitValue() {\r\n      this.minWidth = this.calcMinWidth();\r\n      this.maxWidth = this.calcMaxWidth();\r\n      this.minHeight = this.calcMinHeight();\r\n      this.maxHeight = this.calcMaxHeight();\r\n    },\r\n    // \r\n    getParentsRotate(ev) {\r\n      let rotate = 0;\r\n      let path = ev.path || (ev.composedPath && ev.composedPath()) || [];\r\n      path = path.filter(\r\n          element =>\r\n              element.className && element.className.match(\"vdr-slot\") == null\r\n      );\r\n      const len = path.length || 0;\r\n      if (len < 1) return 0;\r\n      //index0 >0 \r\n      //slot slot\r\n      for (let i = len - 1; i > 0; i--) {\r\n        const element = path[i];\r\n        // windowdocument\r\n        if (element === window || element === document) continue;\r\n        if (element === this.$el) continue;\r\n        rotate += this.getElementRotate(element);\r\n      }\r\n      return rotate;\r\n    },\r\n    // ()\r\n    getElementRotate(element) {\r\n      if (element == null) return 0;\r\n      const parentStyle = window.getComputedStyle(element, null);\r\n      const matrixInfo =\r\n          parentStyle[\"-webkit-transform\"] ||\r\n          parentStyle[\"-moz-transform\"] ||\r\n          parentStyle[\"-ms-transform\"] ||\r\n          parentStyle[\"-o-transform\"] ||\r\n          parentStyle[\"transform\"];\r\n\r\n      if (matrixInfo.match(\"matrix\") == null) return 0;\r\n\r\n      const matrix = matrixInfo.replace(/matrix\\(|\\)|\\s/gi, \"\");\r\n      const matrixArray = matrix.split(\",\") || [];\r\n      const a = Number(matrixArray[0]);\r\n      const b = Number(matrixArray[1]);\r\n      const angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));\r\n      return angle || 0;\r\n    },\r\n    // \r\n    init() {\r\n      // \r\n      this.whRatio = this.width / this.height;\r\n\r\n      // \r\n      this.parentElement = this.$el.parentNode;\r\n      this.parentWidth = this.parentElement.clientWidth;\r\n      this.parentHeight = this.parentElement.clientHeight;\r\n\r\n      // bottomright\r\n      this.bottom = this.parentHeight - this.height - this.top;\r\n      this.right = this.parentWidth - this.width - this.left;\r\n\r\n      // \r\n      this.setLimitValue();\r\n\r\n      // \r\n      this.bodyStartPos = {\r\n        mx: 0,\r\n        my: 0,\r\n        left: 0,\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0\r\n      };\r\n      // mousemovemouseupdocument.documentElement\r\n      document.documentElement.addEventListener(\"mousemove\", this.move);\r\n      document.documentElement.addEventListener(\"mouseup\", this.up);\r\n    },\r\n    //mousedown\r\n    bodyDown(ev) {\r\n      if (!this.activeable) return;\r\n      ev.stopPropagation();\r\n      this.bodyDrag = true;\r\n      this.currentStick = \"\";\r\n\r\n      // \r\n      this.bodyStartPos.mx = ev.clientX;\r\n      this.bodyStartPos.my = ev.clientY;\r\n      // \r\n      this.bodyStartPos.left = this.left;\r\n      this.bodyStartPos.top = this.top;\r\n\r\n      this.parentsRotate = this.getParentsRotate(ev);\r\n\r\n      // \r\n      if (this.activeable) {\r\n        this.$emit(\"activated\", ev, this.posData);\r\n        this.$emit(\"dragStart\", this.posData);\r\n        // vdr\r\n        this.createVdrs()\r\n      }\r\n    },\r\n    // mousemove\r\n    async bodyMove(ev) {\r\n      this.moving = true\r\n      // \r\n      const {mx, my, left, top} = this.bodyStartPos;\r\n      // \r\n      const vector = {x: ev.clientX - mx, y: ev.clientY - my};\r\n      // \r\n      // x'=xcos()+ysin()\r\n      // y'=ycos()-xsin()\r\n\r\n      const rad = this.parentsRotate * (Math.PI / 180);\r\n\r\n      const x = vector.x * Math.cos(rad) + vector.y * Math.sin(rad);\r\n      const y = vector.y * Math.cos(rad) - vector.x * Math.sin(rad);\r\n\r\n      // \r\n      let scale = this.getScale();\r\n\r\n      this.left = left + x * scale;\r\n      this.top = top + y * scale;\r\n      if (this.snap) {\r\n        await this.snapCheck();\r\n      }\r\n\r\n      // \r\n      this.$emit(\"dragging\", this.posData);\r\n    },\r\n\r\n    //mousedown\r\n    stickDown(ev, stick, index) {\r\n      if (!this.activeable) return;\r\n\r\n      this.stickDrag = true;\r\n      this.activeStick = index;\r\n      // stick\r\n      this.currentStick = stick;\r\n\r\n      // \r\n      this.bodyStartPos.mx = ev.clientX;\r\n      this.bodyStartPos.my = ev.clientY;\r\n\r\n      // rightbottom\r\n      this.right = this.parentWidth - this.width - this.left;\r\n      this.bottom = this.parentHeight - this.height - this.top;\r\n\r\n      // \r\n      this.bodyStartPos.left = this.left;\r\n      this.bodyStartPos.top = this.top;\r\n      this.bodyStartPos.bottom = this.bottom;\r\n      this.bodyStartPos.right = this.right;\r\n\r\n      // \r\n      this.$emit(\"resizeStart\", this.posData);\r\n    },\r\n    // mousemove\r\n    stickMove(ev) {\r\n      // \r\n      let currentStick = this.currentStick;\r\n      // \r\n      const {mx, my, top, left, bottom, right} = this.bodyStartPos;\r\n\r\n      // \r\n      const vector = {x: ev.clientX - mx, y: ev.clientY - my};\r\n\r\n      // mm\r\n      if (this.lock && !currentStick.match(\"m\")) {\r\n        currentStick = `${currentStick[0]}m`;\r\n      }\r\n      const rad = this.rotate * (Math.PI / 180);\r\n      const x = vector.x * Math.cos(rad) + vector.y * Math.sin(rad);\r\n      const y = vector.y * Math.cos(rad) - vector.x * Math.sin(rad);\r\n      // \r\n      let scale = this.getScale();\r\n\r\n      // \r\n      currentStick[0] == \"t\" && (this.top = top + y * scale);\r\n      currentStick[0] == \"b\" && (this.bottom = bottom - y * scale);\r\n      currentStick[1] == \"l\" && (this.left = left + x * scale);\r\n      currentStick[1] == \"r\" && (this.right = right - x * scale);\r\n\r\n      // \r\n      this.$emit(\"resizing\", this.posData);\r\n    },\r\n\r\n    // mousedown\r\n    rotateDown(ev) {\r\n      if (!this.activeable) return;\r\n      // \r\n      const vdr = this.$refs.vdr;\r\n      const rect = vdr.getBoundingClientRect();\r\n      const {left, top, width, height} = rect;\r\n\r\n      this.rotateDrag = true;\r\n      this.currentStick = \"angle\";\r\n\r\n      // \r\n      pointB = {X: ev.clientX, Y: ev.clientY};\r\n      // \r\n      pointA = {X: left + width / 2, Y: top + height / 2};\r\n      // \r\n      this.$emit(\"rotateStart\", this.posData);\r\n    },\r\n\r\n    // mousemove\r\n    rotateMove(ev) {\r\n      // \r\n      pointC = {X: ev.clientX, Y: ev.clientY};\r\n      // ABAC\r\n      const AB = {X: pointB.X - pointA.X, Y: pointB.Y - pointA.Y};\r\n      const AC = {X: pointC.X - pointA.X, Y: pointC.Y - pointA.Y};\r\n\r\n      // ABACdirect\r\n      const direct = AB.X * AC.Y - AB.Y * AC.X;\r\n\r\n      // ABAC\r\n      const AB_dx = pointA.X - pointB.X;\r\n      const AC_dx = pointA.X - pointC.X;\r\n      const AB_dy = pointA.Y - pointB.Y;\r\n      const AC_dy = pointA.Y - pointC.Y;\r\n      const lengthAB = Math.sqrt(AB_dx * AB_dx + AB_dy * AB_dy);\r\n      const lengthAC = Math.sqrt(AC_dx * AC_dx + AC_dy * AC_dy);\r\n\r\n      //  A*B = x1*x2 + y1*y2\r\n      const product = AB.X * AC.X + AB.Y * AC.Y;\r\n\r\n      //  a * b = |a| * |b| * cos\r\n      //   = Math.acos(a * b /( |a| * |b| )); \r\n      // Math.acos[-1, 1] ,[-PI, PI], NAN\r\n      const rad = Math.acos(product / (lengthAB * lengthAC));\r\n      const angle = (rad / Math.PI) * 180 || 0;\r\n\r\n      // \r\n      this.rotate = direct < 0 ? this.rotate - angle : this.rotate + angle;\r\n\r\n      // \r\n      this.$emit(\"rotating\", this.posData);\r\n\r\n      // \r\n      pointB = {X: ev.clientX, Y: ev.clientY};\r\n    },\r\n\r\n    // mousemove\r\n    move(ev) {\r\n      if (this.draggable && this.bodyDrag) {\r\n        // const { clientX, clientY } = ev;\r\n        this.bodyMove(ev);\r\n      }\r\n      if (this.resizeable && this.stickDrag) {\r\n        this.stickMove(ev);\r\n      }\r\n      if (this.rotateable && this.rotateDrag) {\r\n        this.rotateMove(ev);\r\n      }\r\n    },\r\n    // mousemup\r\n    up() {\r\n      this.moving = false\r\n      // \r\n      if (this.draggable && this.bodyDrag) {\r\n        this.bodyDrag = false;\r\n        // 0\r\n        if (this.width > 0 && this.height > 0) {\r\n          this.whRatio = this.width / this.height;\r\n        }\r\n        const temArr = new Array(3).fill({display: false, position: '', origin: '', lineLength: ''})\r\n        const refLine = {vLine: [], hLine: []}\r\n        for (let i in refLine) {\r\n          refLine[i] = JSON.parse(JSON.stringify(temArr))\r\n        }\r\n        this.$emit('refLineParams', refLine)\r\n        this.removeVdrs();\r\n        this.$emit(\"dragStop\", this.posData);\r\n      }\r\n      // \r\n      if (this.resizeable && this.stickDrag) {\r\n        this.stickDrag = false;\r\n        this.$emit(\"resizeStop\", this.posData);\r\n      }\r\n      // \r\n      if (this.rotateable && this.rotateDrag) {\r\n        this.rotateDrag = false;\r\n        this.$emit(\"rotateStop\", this.posData);\r\n      }\r\n    },\r\n    // \r\n    async snapCheck() {\r\n      let width = this.width\r\n      let height = this.height\r\n      let activeLeft = this.left\r\n      let activeRight = this.left + width\r\n      let activeTop = this.top\r\n      let activeBottom = this.top + height\r\n      // \r\n      const temArr = new Array(3).fill({display: false, position: '', origin: '', lineLength: ''})\r\n      const refLine = {vLine: [], hLine: []}\r\n      for (let i in refLine) {\r\n        refLine[i] = JSON.parse(JSON.stringify(temArr))\r\n      }\r\n      // \r\n      const nodes = this.$el.parentNode.childNodes;\r\n      let tem = {\r\n        value: {x: [[], [], []], y: [[], [], []]},\r\n        display: [],\r\n        position: []\r\n      }\r\n      const {groupWidth, groupHeight, groupLeft, groupTop, bln} = await this.getActiveAll(nodes)\r\n      if (!bln) {\r\n        width = groupWidth\r\n        height = groupHeight\r\n        activeLeft = groupLeft\r\n        activeRight = groupLeft + groupWidth\r\n        activeTop = groupTop\r\n        activeBottom = groupTop + groupHeight\r\n      }\r\n      for (let item of nodes) {\r\n        if (item.className !== undefined && !item.className.includes('vdr-active') && item.className.includes('vdr')) {\r\n          const w = item.offsetWidth\r\n          const h = item.offsetHeight\r\n          const [l, t] = this.formatTransformVal(item)\r\n          const r = l + w // right\r\n          const b = t + h // bottom\r\n          const hc = Math.abs((activeTop + height / 2) - (t + h / 2)) <= this.snapTolerance // \r\n          const vc = Math.abs((activeLeft + width / 2) - (l + w / 2)) <= this.snapTolerance // \r\n          const ts = Math.abs(t - activeBottom) <= this.snapTolerance // \r\n          const TS = Math.abs(b - activeBottom) <= this.snapTolerance // \r\n          const bs = Math.abs(t - activeTop) <= this.snapTolerance // \r\n          const BS = Math.abs(b - activeTop) <= this.snapTolerance // \r\n          const ls = Math.abs(l - activeRight) <= this.snapTolerance // \r\n          const LS = Math.abs(r - activeRight) <= this.snapTolerance // \r\n          const rs = Math.abs(l - activeLeft) <= this.snapTolerance // \r\n          const RS = Math.abs(r - activeLeft) <= this.snapTolerance // \r\n\r\n          tem['display'] = [ts, TS, bs, BS, hc, hc, ls, LS, rs, RS, vc, vc]\r\n          tem['position'] = [t, b, t, b, t + h / 2, t + h / 2, l, r, l, r, l + w / 2, l + w / 2]\r\n          if (ts) {\r\n            if (bln) {\r\n              this.top = t - height\r\n              this.bottom = this.parentHeight - this.top - height\r\n            }\r\n            tem.value.y[0].push(l, r, activeLeft, activeRight)\r\n          }\r\n          if (bs) {\r\n            if (bln) {\r\n              this.top = t\r\n              this.bottom = this.parentHeight - this.top - height\r\n            }\r\n            tem.value.y[0].push(l, r, activeLeft, activeRight)\r\n          }\r\n          if (TS) {\r\n            if (bln) {\r\n              this.top = b - height\r\n              this.bottom = this.parentHeight - this.top - height\r\n            }\r\n            tem.value.y[1].push(l, r, activeLeft, activeRight)\r\n          }\r\n          if (BS) {\r\n            if (bln) {\r\n              this.top = b\r\n              this.bottom = this.parentHeight - this.top - height\r\n            }\r\n            tem.value.y[1].push(l, r, activeLeft, activeRight)\r\n          }\r\n          if (ls) {\r\n            if (bln) {\r\n              this.left = l - width\r\n              this.right = this.parentWidth - this.left - width\r\n            }\r\n            tem.value.x[0].push(t, b, activeTop, activeBottom)\r\n          }\r\n          if (rs) {\r\n            if (bln) {\r\n              this.left = l\r\n              this.right = this.parentWidth - this.left - width\r\n            }\r\n            tem.value.x[0].push(t, b, activeTop, activeBottom)\r\n          }\r\n          if (LS) {\r\n            if (bln) {\r\n              this.left = r - width\r\n              this.right = this.parentWidth - this.left - width\r\n            }\r\n            tem.value.x[1].push(t, b, activeTop, activeBottom)\r\n          }\r\n          if (RS) {\r\n            if (bln) {\r\n              this.left = r\r\n              this.right = this.parentWidth - this.left - width\r\n            }\r\n            tem.value.x[1].push(t, b, activeTop, activeBottom)\r\n          }\r\n          if (hc) {\r\n            if (bln) {\r\n              this.top = t + h / 2 - height / 2\r\n              this.bottom = this.parentHeight - this.top - height\r\n            }\r\n            tem.value.y[2].push(l, r, activeLeft, activeRight)\r\n          }\r\n          if (vc) {\r\n            if (bln) {\r\n              this.left = l + w / 2 - width / 2\r\n              this.right = this.parentWidth - this.left - width\r\n            }\r\n            tem.value.x[2].push(t, b, activeTop, activeBottom)\r\n          }\r\n          // (display),\r\n          const arrTem = [0, 1, 0, 1, 2, 2, 0, 1, 0, 1, 2, 2]\r\n          for (let i = 0; i <= arrTem.length; i++) {\r\n            // 6Y,6X\r\n            const xory = i < 6 ? 'y' : 'x'\r\n            const horv = i < 6 ? 'hLine' : 'vLine'\r\n            if (tem.display[i]) {\r\n              const {origin, length} = this.calcLineValues(tem.value[xory][arrTem[i]])\r\n              refLine[horv][arrTem[i]].display = tem.display[i]\r\n              refLine[horv][arrTem[i]].position = tem.position[i] + 'px'\r\n              refLine[horv][arrTem[i]].origin = origin\r\n              refLine[horv][arrTem[i]].lineLength = length\r\n            }\r\n          }\r\n        }\r\n      }\r\n      this.$emit('refLineParams', refLine)\r\n    },\r\n    calcLineValues(arr) {\r\n      const length = Math.max(...arr) - Math.min(...arr) + 'px'\r\n      const origin = Math.min(...arr) + 'px'\r\n      return {length, origin}\r\n    },\r\n    async getActiveAll(nodes) {\r\n      const activeAll = []\r\n      const XArray = []\r\n      const YArray = []\r\n      let groupWidth = 0\r\n      let groupHeight = 0\r\n      let groupLeft = 0\r\n      let groupTop = 0\r\n      for (let item of nodes) {\r\n        if (item.className !== undefined && item.className.includes('vdr-active')) {\r\n          activeAll.push(item)\r\n        }\r\n      }\r\n      const AllLength = activeAll.length\r\n      if (AllLength > 1) {\r\n        let parentOffset = this.parentElement.getBoundingClientRect()\r\n        for (let i of activeAll) {\r\n          const offset = i.getBoundingClientRect()\r\n          const l = offset.left - parentOffset.left\r\n          const r = l + i.offsetWidth\r\n          const t = offset.top - parentOffset.top\r\n          const b = t + i.offsetHeight\r\n          XArray.push(t, b)\r\n          YArray.push(l, r)\r\n        }\r\n        groupWidth = Math.max(...YArray) - Math.min(...YArray)\r\n        groupHeight = Math.max(...XArray) - Math.min(...XArray)\r\n        groupLeft = Math.min(...YArray)\r\n        groupTop = Math.min(...XArray)\r\n      }\r\n      const bln = AllLength === 1\r\n      return {groupWidth, groupHeight, groupLeft, groupTop, bln}\r\n    },\r\n    // lefttop\r\n    formatTransformVal(element) {\r\n      const style = window.getComputedStyle(element)\r\n      const matrix = style['transform'] || style.webkitTransform || style.mozTransform\r\n\r\n      // No transform property. Simply return 0 values.\r\n      if (matrix === 'none') {\r\n        return [0, 0, 0]\r\n      }\r\n\r\n      // Can either be 2d or 3d transform\r\n      const matrixType = matrix.includes('3d') ? '3d' : '2d'\r\n      const matrixValues = matrix.match(/matrix.*\\((.+)\\)/)[1].split(', ')\r\n\r\n      // 2d matrices have 6 values\r\n      // Last 2 values are X and Y.\r\n      // 2d matrices does not have Z value.\r\n      if (matrixType === '2d') {\r\n        return [+matrixValues[4], +matrixValues[5], 0]\r\n      }\r\n\r\n      // 3d matrices have 16 values\r\n      // The 13th, 14th, and 15th values are X, Y, and Z\r\n      if (matrixType === '3d') {\r\n        return [+matrixValues[12], +matrixValues[13, +matrixValues[14]]]\r\n\r\n      }\r\n    },\r\n    createVdrs() {\r\n      let sketch = document.querySelector('.item-box');\r\n      this.vdrs = []\r\n      if (!sketch) {\r\n        return\r\n      }\r\n      let others = sketch.querySelectorAll('.vdr')\r\n      let element = [].filter.call(others, (el) => {\r\n        return this.$el.parentNode !== el.parentNode && !el.classList.contains('dragdropbox')\r\n      })\r\n      element.unshift(sketch)\r\n\r\n      let parentOffset = this.$el.parentNode.getBoundingClientRect()\r\n      for (let i = 0; i < element.length; ++i) {\r\n        let el = element[i]\r\n        let box = el.getBoundingClientRect()\r\n        let left = box.left - parentOffset.left\r\n        let top = box.top - parentOffset.top\r\n        let width = box.width\r\n        let height = box.height;\r\n        let vdr = document.createElement('div')\r\n        vdr.className = 'vdr static'\r\n        vdr.style.transform = `translate3d(${left}px,${top}px,0)`;\r\n        vdr.style.height = height + 'px';\r\n        vdr.style.width = width + 'px';\r\n        this.$el.parentNode.prepend(vdr)\r\n        this.vdrs.push(vdr)\r\n      }\r\n    },\r\n    removeVdrs() {\r\n      this.vdrs && this.vdrs.forEach(el => {\r\n        el.remove()\r\n      })\r\n    }\r\n  },\r\n  watch: {\r\n    left(value) {\r\n      // body\r\n      if (this.bodyDrag) return;\r\n\r\n      // \r\n      if (value > this.minOffsetLeft) this.left = this.minOffsetLeft;\r\n      if (value < this.maxOffsetLeft) this.left = this.maxOffsetLeft;\r\n      this.width = this.parentWidth - this.left - this.right;\r\n\r\n      // \r\n      if (this.lock) {\r\n        this.height = this.width / this.whRatio;\r\n      }\r\n    },\r\n    top(value) {\r\n      // body\r\n      if (this.bodyDrag) return;\r\n\r\n      // \r\n      if (value > this.minOffsetTop) this.top = this.minOffsetTop;\r\n      if (value < this.maxOffsetTop) this.top = this.maxOffsetTop;\r\n      this.height = this.parentHeight - this.top - this.bottom;\r\n\r\n      // \r\n      if (this.lock) {\r\n        this.width = this.height * this.whRatio;\r\n        // left\r\n        if (this.currentStick.match(\"l\")) {\r\n          this.left = this.parentWidth - this.right - this.width;\r\n        }\r\n      }\r\n    },\r\n    right(value) {\r\n      // body\r\n      if (this.bodyDrag) return;\r\n\r\n      // \r\n      let width = this.parentWidth - value - this.left;\r\n      width = width < this.minWidth ? this.minWidth : width;\r\n      width = width > this.maxWidth ? this.maxWidth : width;\r\n      this.width = width;\r\n\r\n      if (this.lock) {\r\n        this.height = this.width / this.whRatio;\r\n      }\r\n    },\r\n    bottom(value) {\r\n      // body\r\n      if (this.bodyDrag) return;\r\n\r\n      // \r\n      let height = this.parentHeight - value - this.top;\r\n      height = height < this.minHeight ? this.minHeight : height;\r\n      height = height > this.maxHeight ? this.maxHeight : height;\r\n      this.height = height;\r\n      // \r\n      if (this.lock) {\r\n        this.width = this.height * this.whRatio;\r\n        // left\r\n        if (this.currentStick.match(\"l\")) {\r\n          this.left = this.parentWidth - this.right - this.width;\r\n        }\r\n      }\r\n    },\r\n    w(value) {\r\n      if (value <= 0 || isNaN(value) || value == null) {\r\n        this.width = 0;\r\n        this.height = 0;\r\n        return;\r\n      }\r\n      this.width = value;\r\n      if (this.lock) {\r\n        this.height = Math.round(value / (this.w / this.h));\r\n      }\r\n      this.whRatio = this.width / this.height;\r\n    },\r\n    h(value) {\r\n      if (value <= 0 || isNaN(value) || value == null) {\r\n        this.width = 0;\r\n        this.height = 0;\r\n        return;\r\n      }\r\n      this.height = value;\r\n      if (this.lock) {\r\n        this.width = Math.round(value * (this.w / this.h));\r\n      }\r\n      this.whRatio = this.width / this.height;\r\n    },\r\n    x(value) {\r\n      this.left = value;\r\n      this.right = this.parentWidth - this.w - value;\r\n    },\r\n    y(value) {\r\n      this.top = value;\r\n      this.bottom = this.parentHeight - this.h - value;\r\n    },\r\n    z(value) {\r\n      this.zIndex = value;\r\n    },\r\n    r(value) {\r\n      this.rotate = value;\r\n    },\r\n    lock(value) {\r\n      if (value) {\r\n        this.whRatio = this.width / this.height;\r\n        this.setLimitValue();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.ref-line {\r\n  position: absolute;\r\n  background-color: rgb(255, 0, 204);\r\n  z-index: 9999;\r\n  pointer-events: none;\r\n}\r\n\r\n.v-line {\r\n  width: 1px;\r\n}\r\n\r\n.h-line {\r\n  height: 1px;\r\n}\r\n\r\n.vdr {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  background-size: contain;\r\n  background-position: center;\r\n  transform-origin: center;\r\n  cursor: move;\r\n  border: 1px dashed #999;\r\n\r\n}\r\n\r\n.vdr-slot {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  overflow: visible;\r\n  z-index: 1;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n\r\n.vdr-stick {\r\n  display: block;\r\n  width: 8px;\r\n  height: 8px;\r\n  background: #fff;\r\n  border: 1px solid #333;\r\n  box-shadow: 0 0 2px #bbb;\r\n  box-sizing: border-box;\r\n  position: absolute;\r\n}\r\n\r\n.vdr-stick:hover {\r\n  border: 1px solid #2db7f5;\r\n  box-shadow: 0px 0px 0px 2px rgba(45, 183, 245, 0.3);\r\n}\r\n\r\n.vdr-stick-tl {\r\n  top: 0px;\r\n  left: 0px;\r\n  transform: translate(-50%, -50%);\r\n  /* margin-top: -6px; */\r\n  /* margin-left: -6px; */\r\n  cursor: nwse-resize;\r\n}\r\n\r\n.vdr-stick-tm {\r\n  top: 0px;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  /* margin-left: -6px; */\r\n  /* margin-top: -6px; */\r\n  cursor: ns-resize;\r\n}\r\n\r\n.vdr-stick-tr {\r\n  top: 0px;\r\n  right: 0px;\r\n  /* margin-right: -6px; */\r\n  /* margin-top: -6px; */\r\n  transform: translate(50%, -50%);\r\n  cursor: nesw-resize;\r\n}\r\n\r\n.vdr-stick-ml {\r\n  top: 50%;\r\n  left: 0px;\r\n  transform: translate(-50%, -50%);\r\n  /* margin-left: -6px; */\r\n  /* margin-top: -6px; */\r\n  cursor: ew-resize;\r\n}\r\n\r\n.vdr-stick-mr {\r\n  top: 50%;\r\n  right: 0px;\r\n  /* margin-right: -6px; */\r\n  /* margin-top: -6px; */\r\n  transform: translate(50%, -50%);\r\n  cursor: ew-resize;\r\n}\r\n\r\n.vdr-stick-bl {\r\n  bottom: 0px;\r\n  left: 0px;\r\n  /* margin-left: -6px; */\r\n  /* margin-bottom: -6px; */\r\n  transform: translate(-50%, 50%);\r\n  cursor: nesw-resize;\r\n}\r\n\r\n.vdr-stick-bm {\r\n  bottom: 0px;\r\n  left: 50%;\r\n  transform: translate(-50%, 50%);\r\n  /* margin-left: -6px; */\r\n  /* margin-bottom: -6px; */\r\n  cursor: ns-resize;\r\n}\r\n\r\n.vdr-stick-br {\r\n  bottom: 0px;\r\n  right: 0px;\r\n  /* margin-right: -6px; */\r\n  /* margin-bottom: -6px; */\r\n  transform: translate(50%, 50%);\r\n  cursor: nwse-resize;\r\n}\r\n\r\n.vdr-rotate {\r\n  width: 10px;\r\n  height: 10px;\r\n  top: 0;\r\n  left: 50%;\r\n  transform: translate(-50%, -240%);\r\n  cursor: pointer;\r\n  z-index: 1;\r\n  border-radius: 50%;\r\n}\r\n\r\n.vdr-stick-rotate-line {\r\n  position: absolute;\r\n  z-index: 0;\r\n  width: 1px;\r\n  left: 50%;\r\n  top: -20px;\r\n  margin-left: -0.5px;\r\n  margin-top: 2px;\r\n  height: 20px;\r\n  border-left: 1px dashed #999;\r\n}\r\n\r\n.vdr-stick-rotate-line:hover {\r\n  cursor: crosshair;\r\n}\r\n\r\n.vdr-active {\r\n  border: 1px dashed #0a9dd9;\r\n}\r\n\r\n.vdr-not-active {\r\n  cursor: default;\r\n}\r\n\r\n.vdr_bg {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: block;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  z-index: 0;\r\n}\r\n\r\n.vdr.static {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: -1;\r\n  border: none;\r\n  pointer-events: none;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragresizeroate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragresizeroate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dragresizeroate.vue?vue&type=template&id=76371065&\"\nimport script from \"./dragresizeroate.vue?vue&type=script&lang=js&\"\nexport * from \"./dragresizeroate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dragresizeroate.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <pdDragResizeRotate active r=\"30\">\r\n      <pdDragResizeRotate active r=\"20\"></pdDragResizeRotate>\r\n    </pdDragResizeRotate>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport pdDragResizeRotate from '@/dragBase/dragresize/dragresizeroate/dragresizeroate.vue'\r\n\r\n\r\nexport default {\r\n  name: \"roate\",\r\n  components: {\r\n    pdDragResizeRotate\r\n  },\r\n  data() {\r\n    return {\r\n      el: {\r\n        id: 1,\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./roate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roate.vue?vue&type=template&id=1b25e936&scoped=true&\"\nimport script from \"./roate.vue?vue&type=script&lang=js&\"\nexport * from \"./roate.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b25e936\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-text\"},[_vm._v(\"text\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"d-text\">text</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"dtext\",\r\n  props: {\r\n    renderData: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    type: {\r\n      type: String,\r\n      default() {\r\n        return 'lib'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.d-text {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: #fafccd;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dtext.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dtext.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dtext.vue?vue&type=template&id=ad972faa&scoped=true&\"\nimport script from \"./dtext.vue?vue&type=script&lang=js&\"\nexport * from \"./dtext.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dtext.vue?vue&type=style&index=0&id=ad972faa&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad972faa\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-root\",style:(_vm.renderStyle())},[_vm._v(_vm._s(_vm.renderData))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"d-root\" :style=\"renderStyle()\">{{renderData}}</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"droot\",\r\n  props: {\r\n    renderData: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    renderStyle() {\r\n      let {renderData} = this;\r\n      return {\r\n        background:renderData.background\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.d-root {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./root.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./root.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./root.vue?vue&type=template&id=31f8df79&scoped=true&\"\nimport script from \"./root.vue?vue&type=script&lang=js&\"\nexport * from \"./root.vue?vue&type=script&lang=js&\"\nimport style0 from \"./root.vue?vue&type=style&index=0&id=31f8df79&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31f8df79\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport dtext from \"@/customComponents/dtext/dtext.vue\"\r\nimport root from \"@/customComponents/root/root.vue\"\r\n\r\n\r\nconst components = [\r\n  dtext,\r\n  root\r\n]\r\n\r\nconst install = function (Vue) {\r\n  if (install.installed) return\r\n  components.map(component => {\r\n    Vue.component(component.name, component)\r\n  });\r\n  if (typeof window !== 'undefined' && window.Vue) {\r\n    install(window.Vue)\r\n  }\r\n};\r\nexport default {\r\n  install,\r\n  components\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"pd-ruler\",rawName:\"v-pd-ruler\",value:(_vm.ruleConfig.scale),expression:\"ruleConfig.scale\"},{name:\"frameselect\",rawName:\"v-frameselect\",value:({excluded:_vm.$refs.box,selected:_vm.frameselectEvt,type:_vm.ruleConfig.frameSelectType}),expression:\"{excluded:$refs.box,selected:frameselectEvt,type:ruleConfig.frameSelectType}\"}],staticClass:\"sketch-box\",on:{\"click\":function (e){_vm.cleanSelect({e: e})}}},[_c('div',{staticClass:\"layer-box\"},[_c('div',{staticClass:\"layer-content\",style:(_vm.getLayerSize)},[[_c('div',{staticClass:\"sketch-stage\"},[_vm._t(\"default\")],2)],_c('div',{ref:\"box\",staticClass:\"item-box\"},[_vm._l((_vm.sketchupData.children),function(element,$index){return _c('resizeable',{key:element.id,ref:\"resizeable\",refInFor:true,attrs:{\"z-index\":$index,\"element\":element,\"shiftKey\":_vm.shiftKey,\"scale\":_vm.ruleConfig.scale,\"rulerScale\":_vm.rulerScale},on:{\"update:element\":function($event){element=$event},\"refLineParams\":_vm.getRefLineParams}})}),_vm._l((_vm.vLine),function(item){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.display),expression:\"item.display\"}],key:item.id,staticClass:\"ref-line v-line\",style:({ left: item.position, top: item.origin, height: item.lineLength})})}),_vm._l((_vm.hLine),function(item){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.display),expression:\"item.display\"}],key:item.id,staticClass:\"ref-line h-line\",style:({ top: item.position, left: item.origin, width: item.lineLength})})})],2)],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.element)?_c('pdDragResizeRotate',{class:_vm.setDragDropBoxClass(),attrs:{\"pd-id\":_vm.element.id,\"x\":_vm.mm2px(_vm.element.left),\"y\":_vm.mm2px(_vm.element.top),\"w\":_vm.mm2px(_vm.element.width),\"h\":_vm.mm2px(_vm.element.height),\"lock\":_vm.isLock,\"z\":_vm.zIndex,\"r\":_vm.element.rotate||0,\"activeable\":_vm.activeable,\"active\":_vm.element.active,\"draggable\":_vm.draggable(_vm.element.id),\"resizeable\":_vm.resizeable(_vm.element),\"rotateable\":_vm.rotateable(_vm.element),\"sticks\":_vm.sticks,\"rulerScale\":_vm.rulerScale},on:{\"dragStop\":_vm.dragStop,\"dragStart\":_vm.dragStart,\"dragging\":_vm.dragging,\"resizeStart\":_vm.resizeStart,\"resizeStop\":_vm.resizeStop,\"rotateStart\":_vm.rotateStart,\"rotateStop\":_vm.rotateStop,\"activated\":function($event){return _vm.beforeSelect($event,_vm.element)},\"refLineParams\":function (res){_vm.$emit('refLineParams',res)}},nativeOn:{\"dblclick\":function($event){return _vm.parentActiveChild.apply(null, arguments)}}},[_c(_vm.element.type,{tag:\"component\",attrs:{\"renderData\":_vm.element}},[(_vm.element.children.length)?[_vm._l((_vm.element.children),function(el,$elIndex){return _c('resizeable',{key:el.id,attrs:{\"element\":el,\"zIndex\":$elIndex,\"activeable\":_vm.element.childActiveAble,\"shiftKey\":_vm.shiftKey,\"scale\":_vm.scale,\"rulerScale\":_vm.rulerScale},on:{\"update:element\":function($event){el=$event},\"parentSelect\":_vm.beforeSelect,\"parentActiveChild\":_vm.parentActiveChild,\"refLineParams\":_vm.getRefLineParams}})}),_vm._l((_vm.vLine),function(item){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.display),expression:\"item.display\"}],key:item.id,staticClass:\"ref-line v-line\",style:({ left: item.position, top: item.origin, height: item.lineLength})})}),_vm._l((_vm.hLine),function(item){return _c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.display),expression:\"item.display\"}],key:item.id,staticClass:\"ref-line h-line\",style:({ top: item.position, left: item.origin, width: item.lineLength})})})]:_vm._e()],2)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drag-drop-box\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * node hasAttribute namenode topNode\r\n * @param topNode\r\n * @param node\r\n * @param name\r\n * @returns {Element|null}\r\n */\r\nexport function getTriggerNode(topNode = null, node, name = null) {\r\n  if (topNode && topNode.nodeType !== 1) {\r\n    return null\r\n  }\r\n  if (node && node.nodeType !== 1) {\r\n    return null\r\n  }\r\n  if (!node || !name) {\r\n    return null\r\n  }\r\n  if (node.hasAttribute && node.hasAttribute(name)) {\r\n    return node\r\n  }\r\n  if (node.parentNode && node.parentNode !== topNode) {\r\n    return getTriggerNode(topNode, node.parentNode, name)\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\n/**\r\n * id\r\n * @returns {string}\r\n */\r\nexport function uuid() {\r\n  var temp_url = URL.createObjectURL(new Blob());\r\n  var uuid = temp_url.toString(); // blob:https://xxx.com/b250d159-e1b6-4a87-9002-885d90033be3\r\n  URL.revokeObjectURL(temp_url);\r\n  return uuid.substr(uuid.lastIndexOf(\"/\") + 1);\r\n}\r\n\r\n/**\r\n * Promise\r\n * @param obj\r\n * @returns {boolean}\r\n */\r\nexport function isPromise(obj) {\r\n\r\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\r\n\r\n}\r\n\r\n/**\r\n * \r\n * @param o\r\n * @returns {boolean}\r\n */\r\nexport function isArray(o) {\r\n\r\n  return Object.prototype.toString.call(o) == '[object Array]'\r\n}\r\n\r\n/**\r\n * \r\n * @param fn\r\n * @param delay\r\n * @returns {Function}\r\n */\r\nexport function throttle(fn, delay = 1000) {\r\n  let timer = null;\r\n  let firstTime = true;\r\n\r\n  return function (...args) {\r\n    if (firstTime) {\r\n      // \r\n      fn.apply(this, args);\r\n      return firstTime = false;\r\n    }\r\n    if (timer) {\r\n      // \r\n      return;\r\n    }\r\n    timer = setTimeout(() => {\r\n      clearTimeout(timer);\r\n      timer = null;\r\n      fn.apply(this, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param o\r\n * @returns {boolean}\r\n */\r\nexport function isEmptyOb(o) {\r\n  if (o) {\r\n    return Object.keys(o).length === 0\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n *  offset \r\n * @param arr\r\n * @returns {{top: number, left: number, width: number, height: number}}\r\n */\r\nexport function getAxis(arr = []) {\r\n  let xMin = 0, yMin = 0, xMax = 0, yMax = 0, pass = true;\r\n  if (isArray(arr)) {\r\n    for (let i = 0; i < arr.length; ++i) {\r\n      let item = arr[i];\r\n      if (!item) {\r\n        continue\r\n      }\r\n      if (item.left === undefined || item.top === undefined || item.width === undefined || item.height === undefined) {\r\n        pass = false\r\n        break\r\n      }\r\n      // \r\n      const {mx, my} = {\r\n        mx: item.left,\r\n        my: item.top\r\n      };\r\n      // \r\n      // const center = {x: mx + item.width / 2, y: my + item.height / 2};\r\n      //\r\n      // //todo \r\n      // // x'=rcos()\r\n      // // y'=rsin()\r\n      // let rotate = item.rotate || 0;\r\n      // rotate = rotate * (Math.PI / 180)\r\n      // //4\r\n      // /*\r\n      // * x1,y1------x2,y2\r\n      // * |           |\r\n      // * |           |\r\n      // * |-----------|\r\n      // * x4,y4       x3,y3\r\n      // *\r\n      // * */\r\n      // let x1 = (item.left - center.x) * Math.cos(rotate) - (item.top - center.y) * Math.sin(rotate) + center.x\r\n      // let y1 = (item.left - center.x) * Math.sin(rotate) - (item.top - center.y) * Math.cos(rotate) + center.y\r\n\r\n      // let x2 = (item.left + item.width - center.x) * Math.cos(rotate) - (item.top - center.y) * Math.sin(rotate) + center.x\r\n      // let y2 = (item.left + item.width - center.x) * Math.sin(rotate) - (item.top - center.y) * Math.cos(rotate) + center.y\r\n      //\r\n      // let x3 = (item.left + item.width - center.x) * Math.cos(rotate) - (item.top + item.height - center.y) * Math.sin(rotate) + center.x\r\n      // let y3 = (item.left + item.width - center.x) * Math.sin(rotate) - (item.top + item.height - center.y) * Math.cos(rotate) + center.y\r\n      //\r\n      // let x4 = (item.left - center.x) * Math.cos(rotate) - (item.top + item.height - center.y) * Math.sin(rotate) + center.x\r\n      // let y4 = (item.left - center.x) * Math.sin(rotate) - (item.top + item.height - center.y) * Math.cos(rotate) + center.y\r\n\r\n\r\n      if (i === 0) {\r\n        xMin = item.left\r\n        yMin = item.top\r\n      }\r\n      if (item.left <= xMin) {\r\n        xMin = item.left\r\n      }\r\n      if (item.top <= yMin) {\r\n        yMin = item.top\r\n      }\r\n      let x = Number(item.left) + Number(item.width)\r\n      if (x >= xMax) {\r\n        xMax = x\r\n      }\r\n      let y = Number(item.top) + Number(item.height)\r\n      if (y >= yMax) {\r\n        yMax = y\r\n      }\r\n    }\r\n  }\r\n  return pass ? {\r\n    left: xMin,\r\n    top: yMin,\r\n    width: xMax - xMin,\r\n    height: yMax - yMin\r\n  } : {\r\n    left: 0,\r\n    top: 0,\r\n    width: 0,\r\n    height: 0\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param fn\r\n * @returns {boolean}\r\n */\r\nexport function isFunction(fn) {\r\n  return Object.prototype.toString.call(fn) === '[object Function]';\r\n}\r\n\r\n/**\r\n * \r\n * @param draggable\r\n * @param droppable\r\n * @param toleranceMode\r\n * @param event\r\n * @returns {boolean}\r\n */\r\nexport function intersect(draggable, droppable, toleranceMode, event) {\r\n  let x1 = draggable.left,\r\n    y1 = draggable.top,\r\n    x2 = draggable.right,\r\n    y2 = draggable.bottom,\r\n    l = droppable.left,\r\n    t = droppable.top,\r\n    r = droppable.right,\r\n    b = droppable.bottom;\r\n  switch (toleranceMode) {\r\n    case \"fit\"://\r\n      return (l <= x1 && x2 <= r && t <= y1 && y2 <= b);\r\n    case \"intersect_x\":// x \r\n      return (l < x1 + ((draggable.right - draggable.left) / 2) && // Right Half\r\n        x2 - ((draggable.right - draggable.left) / 2) < r  // Left Half\r\n      );\r\n    case \"intersect\"://1\r\n      return (l < x1 + ((draggable.right - draggable.left) / 2) && // Right Half\r\n        x2 - ((draggable.right - draggable.left) / 2) < r && // Left Half\r\n        t < y1 + ((draggable.bottom - draggable.top) / 2) && // Bottom Half\r\n        y2 - ((draggable.bottom - draggable.top) / 2) < b); // Top Half\r\n    case \"pointer\"://\r\n      return isOverAxis(event.pageY, t, (draggable.bottom - draggable.top)) &&\r\n        isOverAxis(event.pageX, l, (draggable.right - draggable.left));\r\n    case \"touch\"://\r\n      return (\r\n        (y1 >= t && y1 <= b) || // Top edge touching\r\n        (y2 >= t && y2 <= b) || // Bottom edge touching\r\n        (y1 < t && y2 > b) // Surrounded vertically\r\n      ) && (\r\n        (x1 >= l && x1 <= r) || // Left edge touching\r\n        (x2 >= l && x2 <= r) || // Right edge touching\r\n        (x1 < l && x2 > r) // Surrounded horizontally\r\n      );\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * x  reference  reference+size\r\n * @param x\r\n * @param reference\r\n * @param size\r\n * @returns {boolean}\r\n */\r\nfunction isOverAxis(x, reference, size) {\r\n  return (x >= reference) && (x < (reference + size));\r\n}\r\n\r\n/**\r\n *\r\n * @param element\r\n * @param className\r\n * @returns {boolean}\r\n */\r\nexport function hasClass(element, className) {\r\n  do {\r\n    if (element.classList && element.classList.contains(className)) {\r\n      return true;\r\n    }\r\n    element = element.parentNode;\r\n  } while (element);\r\n  return false;\r\n}\r\n\r\nexport function cleanSelect(){\r\n  if (window.getSelection) {\r\n    if (window.getSelection().empty) {  // Chrome\r\n      window.getSelection().empty();\r\n    } else if (window.getSelection().removeAllRanges) {  // Firefox\r\n      window.getSelection().removeAllRanges();\r\n    }\r\n  } else if (document.selection) {  // IE?\r\n    document.selection.empty();\r\n  }\r\n}","import Vue from 'vue'\r\nimport { getAxis, isArray, uuid } from \"@/dragBase/utils/utils\";\r\n\r\nconst groupBox = {\r\n  type: 'dragdropbox'\r\n}\r\n\r\n/**\r\n * \r\n * @param state\r\n * @param item\r\n * @param parent\r\n * @returns {{children}}\r\n */\r\nfunction initAddData(state, item, parent = {id: null}) {\r\n  item.id = uuid()\r\n  item.parentId = parent.id\r\n  item = {\r\n    left: 0,\r\n    top: 0,\r\n    width: 50,\r\n    height: 50,\r\n    ...item,\r\n    active: false,\r\n    childActiveAble: false\r\n  }\r\n  if (item.children && item.children.length) {\r\n    for ( let k = 0; k < item.children.length; ++k ) {\r\n      item.children[ k ] = initAddData(state, item.children[ k ], item)\r\n    }\r\n  } else {\r\n    item.children = []\r\n  }\r\n  state.sketchupMap[ item.id ] = item;\r\n  return item\r\n}\r\n\r\n/**\r\n * \r\n * @returns {*[]}\r\n * @param item\r\n */\r\nfunction deActiveChild(item = null) {\r\n  if (!item) {\r\n    return\r\n  }\r\n  item.active = false;\r\n  item.childActiveAble = false;\r\n  for ( let i = 0; i < item.children.length; ++i ) {\r\n    item.children[ i ] = deActiveChild(item.children[ i ])\r\n  }\r\n  return item\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param state\r\n * @param select \r\n * @param box \r\n * @param children \r\n * @param item \r\n * @param coord \r\n */\r\nfunction groupData(state, select, box, children, item, coord) {\r\n  select.forEach(el => {\r\n    state.sketchupMap[ el.id ].left = state.sketchupMap[ el.id ].left - coord.left;\r\n    state.sketchupMap[ el.id ].top = state.sketchupMap[ el.id ].top - coord.top;\r\n    state.sketchupMap[ el.id ].parentId = item.id\r\n    children.push(state.sketchupMap[ el.id ])\r\n    let index = box.findIndex(ele => {\r\n      return el.id === ele.id\r\n    })\r\n    box.splice(index, 1)\r\n  })\r\n  box.push(item)\r\n}\r\n\r\n/**\r\n * \r\n * @param state\r\n * @param select\r\n * @param box\r\n * @param coord\r\n * @param parent\r\n */\r\nfunction breakGroupData(state, select, box, coord, parent) {\r\n  select.children.map(el => {\r\n    state.sketchupMap[ el.id ].parentId = parent;\r\n    state.sketchupMap[ el.id ].top = state.sketchupMap[ el.id ].top + coord.top;\r\n    state.sketchupMap[ el.id ].left = state.sketchupMap[ el.id ].left + coord.left;\r\n    box.push(state.sketchupMap[ el.id ])\r\n  })\r\n  let index = box.findIndex(el => {\r\n    return el.id === select.id\r\n  })\r\n  box.splice(index, 1)\r\n  delete state.sketchupMap[ select.id ]\r\n}\r\n\r\n/**\r\n * \r\n * @param obj\r\n * @param path\r\n * @param value\r\n * @param vm\r\n */\r\nfunction updateValueByPath(obj, path, value, vm) {\r\n  var tempObj = obj;\r\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1');\r\n  path = path.replace(/^\\./, '');\r\n  var keyArr = path.split('.');\r\n  var i = 0;\r\n  for ( var len = keyArr.length; i < len - 1; ++i ) {\r\n    var key = keyArr[ i ];\r\n    if (key in tempObj) {\r\n      tempObj = tempObj[ key ];\r\n    }\r\n  }\r\n  if (value && value.constructor === Object) {\r\n    for ( let key2 in value ) {\r\n      let val = value[ key2 ];\r\n      vm.$set(tempObj, keyArr[ i ], tempObj[ keyArr[ i ] ] || {})\r\n      updateValueByPath(tempObj[ keyArr[ i ] ], key2, val, vm);\r\n    }\r\n  } else {\r\n    vm.$set(tempObj, keyArr[ i ], value)\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param obj\r\n * @param path\r\n * @param value\r\n */\r\nfunction getValueByPath(obj, path, value) {\r\n  var tempObj = obj;\r\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1');\r\n  path = path.replace(/^\\./, '');\r\n  var keyArr = path.split('.');\r\n  var i = 0;\r\n  for ( var len = keyArr.length; i < len - 1; ++i ) {\r\n    var key = keyArr[ i ];\r\n    if (key in tempObj) {\r\n      tempObj = tempObj[ key ];\r\n    }\r\n  }\r\n  return JSON.parse(JSON.stringify(tempObj[ keyArr[ i ] ] || {}));\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param event\r\n * @param id\r\n */\r\nfunction select({event, id}) {\r\n  unselect.call(this, {event, id})\r\n  let state = this.state;\r\n  let selected = state.selected;\r\n  // \r\n  deActiveChild(state.sketchupMap[ id ])\r\n  //\r\n  state.sketchupMap[ id ].active = true;\r\n  if (event.ctrlKey) {\r\n    //\r\n    selected.push(state.sketchupMap[ id ])\r\n  } else {\r\n    //\r\n    selected = [state.sketchupMap[ id ]]\r\n  }\r\n  state.selected = selected;\r\n  this.$emit('selected', state.selected)\r\n  Vue.set(state, 'sketchup', state.sketchup)\r\n}\r\n\r\n/**\r\n * el.parent\r\n * @param event\r\n * @param id\r\n */\r\nfunction unselect({event, id = null}) {\r\n  let state = this.state;\r\n  let selected = state.selected;\r\n  let el = state.sketchupMap[ id ] || {}\r\n  for ( let i = 0; i < selected.length; i++ ) {\r\n    let ele = selected[ i ]\r\n    if (ele.id === el.parentId) {\r\n      continue\r\n    }\r\n    if (!state.sketchupMap[ ele.id ]) continue\r\n    let parentId = state.sketchupMap[ ele.id ].parentId;\r\n    let out = false;\r\n    while ( parentId ) {\r\n      if (parentId !== el.parentId) {\r\n        deActiveChild(state.sketchupMap[ parentId ])\r\n        parentId = state.sketchupMap[ parentId ].parentId;\r\n        out = true\r\n      } else {\r\n        if (!event.ctrlKey) {\r\n          deActiveChild(state.sketchupMap[ ele.id ])\r\n          out = true;\r\n        }\r\n        break\r\n      }\r\n    }\r\n    if (out) {\r\n      selected.splice(i, 1)\r\n      i--;\r\n    }\r\n  }\r\n  state.selected = selected\r\n}\r\n\r\nfunction dealMap(state, sketchup) {\r\n  let id = sketchup.id;\r\n  state.sketchupMap[ id ] = sketchup\r\n  if (sketchup.children && sketchup.children.length) {\r\n    for ( let i = 0; i < sketchup.children.length; ++i ) {\r\n      dealMap(state, sketchup.children[ i ])\r\n    }\r\n  }\r\n}\r\n\r\nclass Bus {\r\n  constructor() {\r\n    if (!this.init) {\r\n      this.init = true;\r\n      this.bus = new Vue({\r\n        computed: {\r\n          selected() {\r\n            return JSON.parse(JSON.stringify(this.state.selected))\r\n          }\r\n        },\r\n        data() {\r\n          return {\r\n            state: {\r\n              sketchup: {},//\r\n              sketchupMap: {},//\r\n              selected: [],//\r\n              copyData: null,\r\n              snapshotStack: [],\r\n              snapshotLength: 30,\r\n              snapshotIndex: -1\r\n            }\r\n          }\r\n        },\r\n        created() {\r\n          /**\r\n           * \r\n           * @param item\r\n           * @param index\r\n           */\r\n          this.$on('addToSketch', ({parent = null, item, index = -1}) => {\r\n            let state = this.state;\r\n            let ids = []\r\n            parent = parent ? parent : state.sketchup;\r\n            if (isArray(item)) {\r\n              item.forEach(ele => {\r\n                ele = JSON.parse(JSON.stringify(ele))\r\n                if (parent.type === groupBox.type) {\r\n                  ele = initAddData(state, ele, parent)\r\n                  ids.push(ele.id)\r\n                  if (index === -1) {\r\n                    state.sketchupMap[ parent.id ].children.push(ele)\r\n                  } else {\r\n                    state.sketchupMap[ parent.id ].children.splice(index, 0, ele)\r\n                  }\r\n                } else {\r\n                  ele = initAddData(state, ele, state.sketchup)\r\n                  ids.push(ele.id)\r\n                  if (index === -1) {\r\n                    state.sketchup.children.push(ele)\r\n                  } else {\r\n                    state.sketchup.children.splice(index, 0, ele)\r\n                  }\r\n                }\r\n              })\r\n            } else {\r\n              item = JSON.parse(JSON.stringify(item))\r\n              item = initAddData(state, item, parent)\r\n              ids.push(item.id)\r\n              if (parent) {\r\n                if (index === -1) {\r\n                  state.sketchupMap[ parent.id ].push(item)\r\n                } else {\r\n                  state.sketchupMap[ parent.id ].splice(index, 0, item)\r\n                }\r\n              } else {\r\n                if (index === -1) {\r\n                  state.sketchup.children.push(item)\r\n                } else {\r\n                  state.sketchup.children.splice(index, 0, item)\r\n                }\r\n              }\r\n            }\r\n            this.$nextTick(() => {\r\n              this.$emit('updateGroup')\r\n              this.$emit('addend', ids)\r\n            })\r\n          })\r\n          \r\n          /**\r\n           * \r\n           * @param el\r\n           */\r\n          this.$on('select', ({event = {}, id = null}) => {\r\n            let state = this.state;\r\n            if (!id) return\r\n            let el = state.sketchupMap[ id ]\r\n            //\r\n            let exist = -1;\r\n            exist = state.selected.findIndex(ele => {\r\n              return ele.id == el.id\r\n            })\r\n            if (( exist > -1 && event.ctrlKey ) || exist < 0) {\r\n              select.call(this, {event: event, id})\r\n            }\r\n          })\r\n          \r\n          /**\r\n           * \r\n           */\r\n          this.$on('unSelect', ({event = {}, id}) => {\r\n            // el.parentId\r\n            let state = this.state;\r\n            unselect.call(this, {event, id});\r\n            this.$emit('selected', state.selected)\r\n            Vue.set(state, 'sketchup', state.sketchup)\r\n          })\r\n          \r\n          /**\r\n           * \r\n           */\r\n          this.$on('cleanSelect', () => {\r\n            let state = this.state;\r\n            let i = state.selected.length - 1;\r\n            while ( i >= 0 ) {\r\n              let item = state.selected[ i ]\r\n              if (!item || !item.parentId) {\r\n                break\r\n              }\r\n              unselect.call(this, {event: {ctrlKey: false}, id: null})\r\n              --i;\r\n            }\r\n            state.selected = [];\r\n            this.$emit('selected', state.selected)\r\n            Vue.set(state, 'sketchup', state.sketchup)\r\n          })\r\n          \r\n          /**\r\n           * \r\n           * @param data\r\n           */\r\n          this.$on('updateSelected', (data = null) => {\r\n            let state = this.state;\r\n            // stack \r\n            if (!data) {\r\n              return\r\n            }\r\n            if (data && Object.keys(data).length === 0) {\r\n              return\r\n            }\r\n            let selected = state.selected[ state.selected.length - 1 ] || null\r\n            if (!selected || selected.length > 1) {\r\n              return\r\n            }\r\n            let updates = {\r\n              ids: selected.id,\r\n              data: {}\r\n            }\r\n            for ( let keypath in data ) {\r\n              updates.data[ keypath ] = getValueByPath(state.sketchupMap[ selected.id ], keypath);\r\n              updateValueByPath(state.sketchupMap[ selected.id ], keypath, data[ keypath ], this)\r\n            }\r\n            Vue.set(state, 'sketchup', state.sketchup)\r\n          })\r\n          \r\n          /**\r\n           * \r\n           */\r\n          this.$on('removeSelected', () => {\r\n            let state = this.state;\r\n            let selected = state.selected;\r\n            let update = false;\r\n            let parent, index, map = state.sketchupMap;\r\n            if (isArray(selected) && selected.length) {\r\n              //\r\n              update = true\r\n              selected.map((el) => {\r\n                parent = map[ map[ el.id ].parentId ];\r\n                this.$emit('unSelect', {id: el.id});\r\n                if (!parent) {\r\n                  index = state.sketchup.children.findIndex(ele => {\r\n                    return ele.id === el.id\r\n                  })\r\n                  state.sketchup.children.splice(index, 1);\r\n                } else {\r\n                  index = parent.children.findIndex(ele => {\r\n                    return ele.id === el.id\r\n                  })\r\n                  parent.children.splice(index, 1);\r\n                }\r\n                state.sketchupMap[ el.id ].children.map(el => {\r\n                  delete state.sketchupMap[ el.id ]\r\n                })\r\n                delete state.sketchupMap[ el.id ]\r\n              })\r\n            }\r\n            this.$emit('updateGroup')\r\n            update && Vue.set(state, 'sketchup', state.sketchup)\r\n          })\r\n          \r\n          /**\r\n           * \r\n           * @param data\r\n           */\r\n          this.$on('copySelected', (data) => {\r\n            this.state.copyData = JSON.parse(JSON.stringify(data));\r\n          })\r\n          \r\n          /**\r\n           * \r\n           */\r\n          this.$on('paste', () => {\r\n            let state = this.state;\r\n            if (!state.copyData) {\r\n              return\r\n            }\r\n            this.$emit('recordShot')\r\n            let items = JSON.parse(JSON.stringify(state.copyData));\r\n            let ctrlKey = items.length > 0;\r\n            let parent = state.selected[ 0 ] ? state.selected[ 0 ].parentId : null;\r\n            items.forEach(item => {\r\n              item.left += 10;\r\n              item.top += 10;\r\n              item = initAddData(state, item, {id: parent})\r\n              if (parent) {\r\n                state.sketchupMap[ parent ].children.push(item);\r\n              } else {\r\n                state.sketchup.children.push(item)\r\n              }\r\n            })\r\n            \r\n            let selected = JSON.parse(JSON.stringify(state.selected))\r\n            selected.forEach(el => {\r\n              this.$emit('unSelect', {id: el.id, event: {ctrlKey: false}})\r\n            })\r\n            items.forEach(item => {\r\n              this.$emit('select', {id: item.id, event: {ctrlKey: ctrlKey}})\r\n            })\r\n            state.copyData = JSON.parse(JSON.stringify(items))\r\n            this.$emit('updateGroup')\r\n            \r\n            // setTimeout(() => {\r\n            //   selected.forEach(el => {\r\n            //     this.$emit('unSelect', {el: el, event: {ctrlKey: ctrlKey}})\r\n            //   })\r\n            //   state.copyData = JSON.parse(JSON.stringify(items))\r\n            //\r\n            // }, 1)\r\n          })\r\n          /**\r\n           * \r\n           * @param evt\r\n           */\r\n          this.$on('group', (evt = {}) => {\r\n            let state = this.state;\r\n            /* select */\r\n            evt && evt.stopPropagation && evt.stopPropagation();\r\n            evt && evt.preventDefault && evt.preventDefault();\r\n            let select = state.selected;\r\n            if (isArray(select) && select.length > 1) {\r\n              let parentId = state.selected[ 0 ].parentId;\r\n              let box = JSON.parse(JSON.stringify(groupBox))\r\n              let coord = getAxis(select)\r\n              box = {...box, ...coord}\r\n              box = initAddData(state, box, {id: parentId});\r\n              if (parentId) {\r\n                groupData(state, select, state.sketchupMap[ parentId ].children, state.sketchupMap[ box.id ].children, box, coord)\r\n              } else {\r\n                groupData(state, select, state.sketchup.children, state.sketchupMap[ box.id ].children, box, coord)\r\n              }\r\n              this.$emit('unSelect', {id: box.id})\r\n              this.$emit('select', {id: box.id})\r\n              Vue.set(state, 'sketchup', state.sketchup)\r\n            }\r\n          })\r\n          \r\n          /**\r\n           * \r\n           */\r\n          this.$on('breakGroup', () => {\r\n            let state = this.state;\r\n            // type==groupBox.type \r\n            let select = state.selected;\r\n            if (!select || select.length === 0 || Object.keys(select).length === 0) {\r\n              return\r\n            }\r\n            let coord\r\n            if (isArray(select)) {\r\n              select.map(el => {\r\n                let {left, top, parentId} = el;\r\n                let parent = parentId\r\n                let box = state.sketchupMap[ parent ] ? state.sketchupMap[ parent ].children : state.sketchup.children\r\n                coord = {left, top}\r\n                if (el.type === groupBox.type && el.children.length) {\r\n                  this.$emit('unSelect', {event: {ctrlKey: false}, id: el.id})\r\n                  breakGroupData(state, el, box, coord, parent)\r\n                  el.children.map(child => {\r\n                    this.$emit('unSelect', {event: {ctrlKey: true}, id: child.id})\r\n                    this.$emit('select', {event: {ctrlKey: true}, id: child.id})\r\n                  })\r\n                }\r\n              })\r\n              \r\n            } else {\r\n              let {left, top, parentId} = select;\r\n              let parent = parentId\r\n              let box = state.sketchupMap[ parent ] ? state.sketchupMap[ parent ].children : state.sketchup.children\r\n              coord = {left, top}\r\n              if (select.type === groupBox.type && select.children.length) {\r\n                breakGroupData(state, select, box, coord, parent)\r\n                this.$emit('cleanSelect')\r\n                select.children.map(el => {\r\n                  this.$emit('unSelect', {event: {ctrlKey: true}, id: el.id})\r\n                  this.$emit('select', {event: {ctrlKey: true}, id: el.id})\r\n                })\r\n              }\r\n            }\r\n          })\r\n          \r\n          /**\r\n           * \r\n           * @param state\r\n           * @param id\r\n           * @param coord\r\n           */\r\n          this.$on('updateGroupBox', ({id, coord}) => {\r\n            let state = this.state;\r\n            if (!state.sketchupMap[ id ]) {\r\n              return\r\n            }\r\n            state.sketchupMap[ id ].left = state.sketchupMap[ id ].left + coord.left\r\n            state.sketchupMap[ id ].top = state.sketchupMap[ id ].top + coord.top\r\n            state.sketchupMap[ id ].width = coord.width\r\n            state.sketchupMap[ id ].height = coord.height\r\n            state.sketchupMap[ id ].children.map(ele => {\r\n              state.sketchupMap[ ele.id ].left = state.sketchupMap[ ele.id ].left - coord.left;\r\n              state.sketchupMap[ ele.id ].top = state.sketchupMap[ ele.id ].top - coord.top;\r\n            })\r\n          })\r\n          /**\r\n           *   type \r\n           */\r\n          this.$on('initTree', (tree) => {\r\n            let state = this.state;\r\n            state.sketchupMap = {}\r\n            state.sketchup = {}\r\n            state.selected = []\r\n            state.copyData = null\r\n            \r\n            tree.type = 'sketchup'\r\n            tree = JSON.parse(JSON.stringify(tree))\r\n            tree = initAddData(state, tree, {});\r\n            state.sketchup = tree;\r\n          })\r\n          \r\n          /**\r\n           * item\r\n           * */\r\n          this.$on('updateItem', ({id, data = null, updateGroupBox = true}) => {\r\n            let state = this.state;\r\n            // stack \r\n            if (!data || !state.sketchupMap[ id ]) {\r\n              return\r\n            }\r\n            let updates = {\r\n              ids: id,\r\n              data: {}\r\n            }\r\n            for ( let keypath in data ) {\r\n              if (updateGroupBox) {\r\n                updates.data[ keypath ] = getValueByPath(state.sketchupMap[ id ], keypath);\r\n              }\r\n              updateValueByPath(state.sketchupMap[ id ], keypath, data[ keypath ], this)\r\n            }\r\n            updateGroupBox && this.$emit('updateGroup')\r\n            Vue.set(state, 'sketchup', state.sketchup)\r\n          })\r\n          \r\n          /**\r\n           * \r\n           * */\r\n          this.$on('bringForward', ({id}) => {\r\n            let state = this.state;\r\n            let el = state.sketchupMap[ id ]\r\n            if (!el) return\r\n            let parent = state.sketchupMap[ el.parentId ]\r\n            let index = parent.children.findIndex(ele => {\r\n              return ele.id === id;\r\n            })\r\n            if (index !== parent.children.length - 1) {\r\n              state.sketchupMap[ el.parentId ].children[ index ] = state.sketchupMap[ el.parentId ].children.splice(index + 1, 1, state.sketchupMap[ el.parentId ].children[ index ])[ 0 ]\r\n            }\r\n          })\r\n          this.$on('sendBackward', ({id}) => {\r\n            let state = this.state;\r\n            let el = state.sketchupMap[ id ]\r\n            if (!el) return\r\n            let parent = state.sketchupMap[ el.parentId ]\r\n            let index = parent.children.findIndex(ele => {\r\n              return ele.id === id;\r\n            })\r\n            if (index !== 0) {\r\n              state.sketchupMap[ el.parentId ].children[ index ] = state.sketchupMap[ el.parentId ].children.splice(index - 1, 1, state.sketchupMap[ el.parentId ].children[ index ])[ 0 ]\r\n            }\r\n          })\r\n          this.$on('bringToFront', ({id}) => {\r\n            let state = this.state;\r\n            let el = state.sketchupMap[ id ]\r\n            if (!el) return\r\n            let parent = state.sketchupMap[ el.parentId ]\r\n            let index = parent.children.findIndex(ele => {\r\n              return ele.id === id;\r\n            })\r\n            if (index !== parent.children.length - 1) {\r\n              state.sketchupMap[ el.parentId ].children.push(state.sketchupMap[ el.parentId ].children.splice(index, 1)[ 0 ])\r\n            }\r\n          })\r\n          this.$on('sendToBack', ({id}) => {\r\n            let state = this.state;\r\n            let el = state.sketchupMap[ id ]\r\n            if (!el) return\r\n            let parent = state.sketchupMap[ el.parentId ]\r\n            let index = parent.children.findIndex(ele => {\r\n              return ele.id === id;\r\n            })\r\n            if (index !== 0) {\r\n              state.sketchupMap[ el.parentId ].children.unshift(state.sketchupMap[ el.parentId ].children.splice(index, 1)[ 0 ])\r\n            }\r\n          })\r\n          \r\n          /*\r\n          * undo redo\r\n          * */\r\n          this.$on('recordShot', () => {\r\n            this.state.snapshotStack[ ++this.state.snapshotIndex ] = {\r\n              select: JSON.parse(JSON.stringify(this.state.selected)),\r\n              data: JSON.parse(JSON.stringify(this.state.sketchup))\r\n            }\r\n            if (this.state.snapshotStack.length > this.state.snapshotLength) {\r\n              this.state.snapshotStack.shift()\r\n              this.state.snapshotIndex--;\r\n            }\r\n          })\r\n          \r\n          this.$on('undo', () => {\r\n            if (this.state.snapshotIndex >= 0) {\r\n              this.state.sketchupMap = {}\r\n              let sketchup = this.state.snapshotStack[ this.state.snapshotIndex ]\r\n              if (!sketchup) {\r\n                return\r\n              }\r\n              this.state.snapshotIndex--;\r\n              dealMap(this.state, sketchup.data)\r\n              sketchup.select = sketchup.select || [];\r\n              this.state.selected = []\r\n              sketchup.select.forEach((el) => {\r\n                this.state.selected.push(this.state.sketchupMap[ el.id ])\r\n              })\r\n              Vue.set(this.state, 'sketchup', sketchup.data)\r\n            }\r\n          })\r\n          \r\n          this.$on('redo', () => {\r\n            if (this.state.snapshotIndex <= this.state.snapshotStack.length) {\r\n              this.state.sketchupMap = {}\r\n              this.state.snapshotIndex++;\r\n              let sketchup = this.state.snapshotStack[ this.state.snapshotIndex ]\r\n              if (!sketchup) {\r\n                return\r\n              }\r\n              \r\n              dealMap(this.state, sketchup.data)\r\n              this.state.selected = sketchup.select;\r\n              Vue.set(this.state, 'sketchup', sketchup.data)\r\n            }\r\n          })\r\n          \r\n        },\r\n        methods: {\r\n          updateConfig(config) {\r\n            this.state.snapshotLength = config.snapshotLength ? config.snapshotLength : this.state.snapshotLength\r\n          }\r\n        }\r\n      })\r\n    }\r\n    return this.bus\r\n  }\r\n  \r\n}\r\n\r\nexport default new Bus()","<template>\r\n  <div class=\"drag-drop-box\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAxis } from \"@/dragBase/utils/utils\";\r\nimport Bus from '@/dragBase/event'\r\n\r\nexport default {\r\n  name: \"dragdropbox\",\r\n  props: {\r\n    renderData: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  mounted () {\r\n    Bus.$on('updateGroup', this.trigger)\r\n  },\r\n  methods:{\r\n    trigger(){\r\n      this.$nextTick(()=>{\r\n        Bus.$emit('updateGroupBox', {id: this.renderData.id, coord: {...getAxis(this.renderData.children)}})\r\n      })\r\n    }\r\n  },\r\n  beforeDestroy() {\r\n    Bus.$off('updateGroup',this.trigger)\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.drag-drop-box {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n}\r\n\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragdropbox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragdropbox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dragdropbox.vue?vue&type=template&id=2c748eec&scoped=true&\"\nimport script from \"./dragdropbox.vue?vue&type=script&lang=js&\"\nexport * from \"./dragdropbox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dragdropbox.vue?vue&type=style&index=0&id=2c748eec&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c748eec\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <pdDragResizeRotate\r\n      v-if=\"element\"\r\n      :pd-id=\"element.id\"\r\n      :x=\"mm2px(element.left)\"\r\n      :y=\"mm2px(element.top)\"\r\n      :w=\"mm2px(element.width)\"\r\n      :h=\"mm2px(element.height)\"\r\n      :lock=\"isLock\"\r\n      :z=\"zIndex\"\r\n      :r=\"element.rotate||0\"\r\n      :activeable=\"activeable\"\r\n      :active=\"element.active\"\r\n      :draggable=\"draggable(element.id)\"\r\n      :resizeable=\"resizeable(element)\"\r\n      :rotateable=\"rotateable(element)\"\r\n      :sticks=\"sticks\"\r\n      :rulerScale=\"rulerScale\"\r\n      @dragStop=\"dragStop\"\r\n      @dragStart=\"dragStart\"\r\n      @dragging=\"dragging\"\r\n      @resizeStart=\"resizeStart\"\r\n      @resizeStop=\"resizeStop\"\r\n      @rotateStart=\"rotateStart\"\r\n      @rotateStop=\"rotateStop\"\r\n      @activated=\"beforeSelect($event,element)\"\r\n      @dblclick.native=\"parentActiveChild\"\r\n      @refLineParams=\"(res)=>{$emit('refLineParams',res)}\"\r\n      :class=\"setDragDropBoxClass()\"\r\n  >\r\n    <component :is=\"element.type\" :renderData=\"element\">\r\n      <template v-if=\"element.children.length\">\r\n        <resizeable v-for=\"(el,$elIndex) in element.children\"\r\n                    :element.sync=\"el\"\r\n                    :key=\"el.id\"\r\n                    :zIndex=\"$elIndex\"\r\n                    :activeable=\"element.childActiveAble\"\r\n                    :shiftKey=\"shiftKey\"\r\n                    :scale=\"scale\"\r\n                    :rulerScale=\"rulerScale\"\r\n                    @parentSelect=\"beforeSelect\"\r\n                    @parentActiveChild=\"parentActiveChild\"\r\n                    @refLineParams=\"getRefLineParams\"\r\n        ></resizeable>\r\n        <span class=\"ref-line v-line\"\r\n              v-for=\"item in vLine\"\r\n              :key=\"item.id\"\r\n              v-show=\"item.display\"\r\n              :style=\"{ left: item.position, top: item.origin, height: item.lineLength}\"\r\n        />\r\n        <span class=\"ref-line h-line\"\r\n              v-for=\"item in hLine\"\r\n              :key=\"item.id\"\r\n              v-show=\"item.display\"\r\n              :style=\"{ top: item.position, left: item.origin, width: item.lineLength}\"\r\n        />\r\n      </template>\r\n    </component>\r\n  </pdDragResizeRotate>\r\n</template>\r\n\r\n<script>\r\nimport dragdropbox from \"@/dragBase/components/dragdropbox\";\r\n\r\nimport pdDragResizeRotate from '@/dragBase/dragresize/dragresizeroate/dragresizeroate.vue'\r\nimport { isArray } from \"@/dragBase/utils/utils\";\r\nimport Bus from '@/dragBase/event'\r\n\r\nexport default {\r\n  name: \"resizeable\",\r\n  components: {pdDragResizeRotate, dragdropbox},\r\n  props: {\r\n    element: {\r\n      type: Object,\r\n      default: function () {\r\n        return null\r\n      }\r\n    },\r\n    zIndex: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    activeable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    shiftKey: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    scale: {\r\n      type: [String, Number],\r\n      default: 1\r\n    },\r\n    rulerScale: {\r\n      type: [String, Number],\r\n      default: 1\r\n    }\r\n  },\r\n  computed: {\r\n    selected() {\r\n      return Bus.selected\r\n    },\r\n    isLock() {\r\n      return this.shiftKey\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      orPos: {},\r\n      diffPos: {left: 0, top: 0},\r\n      vLine: [],\r\n      hLine: [],\r\n      sticks: ['tl', 'tm', 'tr', 'mr', 'ml', 'bl', 'bm', 'br', 'angle']\r\n    }\r\n  },\r\n  methods: {\r\n    getRefLineParams(params) {\r\n      const {vLine, hLine} = params\r\n      let id = 0\r\n      this.vLine = vLine.map(item => {\r\n        item[ 'id' ] = ++id\r\n        return item\r\n      })\r\n      this.hLine = hLine.map(item => {\r\n        item[ 'id' ] = ++id\r\n        return item\r\n      })\r\n    },\r\n    select(val) {\r\n      Bus.$emit('select', val)\r\n    },\r\n    /*todo  */\r\n    // unSelect(val) {\r\n    //   Bus.$emit('unSelect', val)\r\n    // },\r\n    // cleanSelect(val) {\r\n    //   Bus.$emit('cleanSelect', val)\r\n    // },\r\n    dragStart(pos) {\r\n      this.selected.forEach(el => {\r\n        this.orPos[ el.id ] = {top: el.top, left: el.left}\r\n      })\r\n      this.diffPos = {left: pos.left, top: pos.top}\r\n      Bus.$emit('recordShot')\r\n    },\r\n    dragging(pos) {\r\n      let {top, left} = pos\r\n      //orDiff\r\n      if (this.selected.length > 1) {\r\n        let diffTop = top - this.diffPos.top;\r\n        let diffLeft = left - this.diffPos.left;\r\n        this.selected.forEach(el => {\r\n          if (el.id !== this.element.id) {\r\n            let left = this.orPos[ el.id ].left + this.px2mm(diffLeft)\r\n            let top = this.orPos[ el.id ].top + this.px2mm(diffTop)\r\n            Bus.$emit('updateItem', {id: el.id, data: {left, top}, updateGroupBox: false})\r\n          }\r\n        })\r\n      }\r\n    },\r\n    dragStop(pos) {\r\n      if (this.selected.length === 1) {\r\n        let {left, top, width, height, rotate} = pos\r\n        left = this.px2mm(left)\r\n        top = this.px2mm(top)\r\n        width = this.px2mm(width)\r\n        height = this.px2mm(height)\r\n        Bus.$emit('updateItem', {id: this.element.id, data: {left, top, width, height, rotate}, updateGroupBox: true})\r\n      } else {\r\n        let {left, top, width, height, rotate} = pos\r\n        left = this.px2mm(left)\r\n        top = this.px2mm(top)\r\n        width = this.px2mm(width)\r\n        height = this.px2mm(height)\r\n        Bus.$emit('updateItem', {id: this.element.id, data: {left, top, width, height, rotate}, updateGroupBox: false})\r\n        Bus.$emit('updateGroup')\r\n      }\r\n    },\r\n    resizeStart() {\r\n      Bus.$emit('recordShot')\r\n    },\r\n    resizeStop(pos) {\r\n      let {left, top, width, height, rotate} = pos\r\n      left = this.px2mm(left)\r\n      top = this.px2mm(top)\r\n      width = this.px2mm(width)\r\n      height = this.px2mm(height)\r\n      Bus.$emit('updateSelected', {left, top, width, height, rotate})\r\n      Bus.$emit('updateGroup')\r\n    },\r\n    rotateStart() {\r\n      Bus.$emit('recordShot')\r\n    },\r\n    rotateStop(pos) {\r\n      let {left, top, width, height, rotate} = pos\r\n      left = this.px2mm(left)\r\n      top = this.px2mm(top)\r\n      width = this.px2mm(width)\r\n      height = this.px2mm(height)\r\n      Bus.$emit('updateSelected', {left, top, width, height, rotate})\r\n      Bus.$emit('updateGroup')\r\n    },\r\n    beforeSelect($event = {}) {\r\n      let el = this.element\r\n      if (this.activeable) {\r\n        this.select({event: $event, id: el.id})\r\n      } else {\r\n        this.$emit('parentSelect', $event, el)\r\n      }\r\n    },\r\n    parentActiveChild() {\r\n      if (this.activeable) {\r\n        if (this.element.children.length) {\r\n          if (this.element.active) {\r\n            if (isArray(this.selected) && this.selected.length > 1) {\r\n              this.cleanSelect()\r\n              this.select({id: this.element.id})\r\n            } else {\r\n              this.element.childActiveAble = true;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        this.$emit('parentActiveChild')\r\n      }\r\n\r\n    },\r\n    draggable(id) {\r\n      return this.selected.findIndex(el => {\r\n        return el.id === id\r\n      }) > -1\r\n    },\r\n    resizeable(ele) {\r\n      let id = ele.id\r\n      if (ele.type == 'dragdropbox') {\r\n        return false\r\n      } else {\r\n        if (this.selected.length > 1) {\r\n          return false\r\n        } else {\r\n          return this.selected.findIndex(el => {\r\n            return el.id === id\r\n          }) > -1\r\n        }\r\n      }\r\n    },\r\n    rotateable(ele) {\r\n      let id = ele.id\r\n\r\n      if (ele.type == 'dragdropbox') {\r\n        return false\r\n      } else {\r\n        if (this.selected.length > 1) {\r\n          return false\r\n        } else {\r\n          let result = ( this.element.rotateable && this.selected.findIndex(el => {\r\n            return el.id === id\r\n          }) > -1 ) || false;\r\n          return result\r\n        }\r\n      }\r\n    },\r\n    setDragDropBoxClass() {\r\n      if (this.element.type == 'dragdropbox' && this.element.active && !this.element.childActiveAble) {\r\n        return 'box-active dragdropbox'\r\n      } else if (this.element.type == 'dragdropbox' && this.element.active && this.element.childActiveAble) {\r\n        return 'dragdropbox'\r\n      } else if (this.element.type == 'dragdropbox' && !this.element.active) {\r\n        return 'noborder dragdropbox'\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    mm2px(mm = 0) {\r\n      return parseFloat(( Number(mm) * this.scale ).toFixed(1))\r\n    },\r\n    px2mm(px = 0) {\r\n      return parseFloat(( Number(px) / this.scale ).toFixed(1))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.child-box {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.select {\r\n  border: 1px dashed #0a90ea;\r\n}\r\n\r\n.box-active {\r\n  border: 1px dashed #dae79a;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resizeable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resizeable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resizeable.vue?vue&type=template&id=1325e3e2&scoped=true&\"\nimport script from \"./resizeable.vue?vue&type=script&lang=js&\"\nexport * from \"./resizeable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./resizeable.vue?vue&type=style&index=0&id=1325e3e2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1325e3e2\",\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable */\r\n// myRuler.api.setPos({x:100, y:100})\r\n// /*\r\n// change the left, top, positions of the rulers\r\n// */\r\n// myRuler.api.setScale(1.5);\r\n// /*\r\n// change the scale of the points\r\n// */\r\n// myRuler.api.toggleRulerVisibility(true);\r\n// /*\r\n// hide/show rulers\r\n// */\r\n// myRuler.api.toggleGuideVisibility(true);\r\n// /*\r\n// hide/show guides\r\n// */\r\n// myRuler.api.clearGuides(true);\r\n// /*\r\n// get list of guides to store or copy\r\n// */\r\n// myRuler.api.getGuides(); // => [{dimension: number, poxX: number: posY: number}...]\r\n// /*\r\n// set guides from a pre stored list\r\n// */\r\n// myRuler.api.setGuides([{dimension: number, poxX: number: posY: number}...]);\r\n// /*\r\n// clear all guides\r\n// */\r\n// myRuler.api.destory();\r\n// /*\r\n// remove rulers, guides and references;\r\n// */\r\nvar ruler = function (options) {\r\n  this.api = this.builder();\r\n  this.api.constructRulers.call(this, options);\r\n};\r\n\r\nruler.prototype.builder = function () {\r\n  var VERTICAL = 1,\r\n    HORIZONTAL = 2,\r\n    CUR_DELTA_X = 0,\r\n    CUR_DELTA_Y = 0,\r\n    CUR_SCALE = 1;\r\n\r\n  var options,\r\n    rulerz = {},\r\n    guides = [],\r\n    theRulerDOM = document.createElement('div'),\r\n    corners = [],\r\n    defaultOptions = {\r\n      rulerHeight: 15,\r\n      fontFamily: 'arial',\r\n      fontSize: '8px',\r\n      strokeStyle: 'gray',\r\n      sides: ['top', 'left'],\r\n      cornerSides: ['TL'],\r\n      lineWidth: 1,\r\n      enableMouseTracking: true,\r\n      enableToolTip: true\r\n    };\r\n\r\n  var rotateRuler = function (curRuler, angle) {\r\n    var rotation = 'rotate(' + angle + 'deg)';\r\n    var origin = ruler.prototype.utils.pixelize(Math.abs(parseInt(curRuler.canvas.style.left))) + ' 100%';\r\n    curRuler.canvas.style.webkitTransform = rotation;\r\n    curRuler.canvas.style.MozTransform = rotation;\r\n    curRuler.canvas.style.OTransform = rotation;\r\n    curRuler.canvas.style.msTransform = rotation;\r\n    curRuler.canvas.style.transform = rotation;\r\n    curRuler.canvas.style.webkitTransformOrigin = origin;\r\n    curRuler.canvas.style.MozTransformOrigin = origin;\r\n    curRuler.canvas.style.OTransformOrigin = origin;\r\n    curRuler.canvas.style.msTransformOrigin = origin;\r\n    curRuler.canvas.style.transformOrigin = origin;\r\n\r\n  };\r\n\r\n  var positionRuler = function (curRuler, alignment) {\r\n    curRuler.canvas.style.left = ruler.prototype.utils.pixelize(-((curRuler.canvas.width / 2) - curRuler.canvas.height));\r\n    switch (alignment) {\r\n      case 'top':\r\n        curRuler.orgPos = parseInt(curRuler.canvas.style.left);\r\n        break;\r\n      case 'left':\r\n        curRuler.canvas.style.top = ruler.prototype.utils.pixelize(-curRuler.canvas.height - 1);\r\n        curRuler.orgPos = parseInt(curRuler.canvas.style.top);\r\n        rotateRuler(curRuler, 90);\r\n        break;\r\n    }\r\n  };\r\n\r\n  var attachListeners = function (container, curRul) {\r\n    var mousedown = function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation()\r\n      constructGuide(curRul.dimension, e.clientX, e.clientY, e);\r\n\r\n    };\r\n\r\n    curRul.canvas.addEventListener('mousedown', mousedown);\r\n    curRul.clearListeners = function () {\r\n      curRul.canvas.removeEventListener('mousedown', mousedown);\r\n    }\r\n  };\r\n\r\n  var constructGuide = function (dimension, x, y, e, isSet) {\r\n    //TODO  \r\n    var guideIndex;\r\n    var moveCB = function (line, x, y) {\r\n      var coor = line.dimension === VERTICAL ? x : y;\r\n      if (!line.assigned()) {\r\n        if (coor > options.rulerHeight) {\r\n          line.assigned(true);\r\n        }\r\n        return;\r\n      }\r\n\r\n      if (coor < options.rulerHeight) {\r\n        guides.some(function (guideLine, index) {\r\n          if (guideLine.line === line) {\r\n            guideIndex = index;\r\n            return true;\r\n          }\r\n        });\r\n        line.destroy();\r\n        guides.splice(guideIndex, 1);\r\n\r\n      }\r\n    };\r\n\r\n    var guide = document.createElement('div'),\r\n      guideStyle = dimension === VERTICAL ? 'rul_lineVer' : 'rul_lineHor',\r\n      curDelta = dimension === VERTICAL ? CUR_DELTA_X : CUR_DELTA_Y;\r\n    guide.title = '';\r\n    ruler.prototype.utils.addClasss(guide, ['rul_line', guideStyle]);\r\n    guide = theRulerDOM.appendChild(guide);\r\n    if (dimension === VERTICAL) {\r\n      guide.style.left = ruler.prototype.utils.pixelize(x - options.container.getBoundingClientRect().left);\r\n      if (isSet) guide.style.left = ruler.prototype.utils.pixelize(Math.round(x / CUR_SCALE) + options.rulerHeight);\r\n    } else {\r\n      guide.style.top = ruler.prototype.utils.pixelize(y - options.container.getBoundingClientRect().top);\r\n      if (isSet) guide.style.top = ruler.prototype.utils.pixelize(Math.round(y / CUR_SCALE) + options.rulerHeight);\r\n    }\r\n    guides.push({\r\n      dimension: dimension,\r\n      line: ruler.prototype.guideLine(guide, options.container.querySelector('.rul_wrapper'), dimension, options, curDelta, moveCB, e)\r\n    });\r\n  };\r\n\r\n\r\n  var constructRuler = function (container, alignment) {\r\n    var canvas,\r\n      dimension = alignment === 'left' || alignment === 'right' ? VERTICAL : HORIZONTAL,\r\n      rulerStyle = dimension === VERTICAL ? 'rul_ruler_Vertical' : 'rul_ruler_Horizontal',\r\n      element = document.createElement('canvas');\r\n\r\n\r\n    ruler.prototype.utils.addClasss(element, ['rul_ruler', rulerStyle, 'rul_align_' + alignment]);\r\n    canvas = container.appendChild(element);\r\n    rulerz[alignment] = ruler.prototype.rulerConstructor(canvas, options, dimension);\r\n    rulerz[alignment].drawRuler(container, options.rulerHeight);\r\n    positionRuler(rulerz[alignment], alignment);\r\n    attachListeners(container, rulerz[alignment]);\r\n  };\r\n\r\n  var constructCorner = (function () {\r\n    function cornerDraw(container, side) {\r\n      var corner = document.createElement('div'),\r\n        cornerStyle = 'rul_corner' + side.toUpperCase();\r\n\r\n      corner.title = ' ';\r\n      ruler.prototype.utils.addClasss(corner, ['rul_corner', cornerStyle]);\r\n      corner.style.width = ruler.prototype.utils.pixelize(options.rulerHeight + 1);\r\n      corner.style.height = ruler.prototype.utils.pixelize(options.rulerHeight);\r\n      var cornerNode = container.appendChild(corner);\r\n      var bg = document.createElement('div')\r\n      bg.style.position = 'absolute'\r\n      bg.style.height = ruler.prototype.utils.pixelize(options.rulerHeight);\r\n      bg.style.left = 0;\r\n      bg.style.right = 0;\r\n      bg.style.background = '#fff';\r\n      container.appendChild(bg)\r\n\r\n      var bg2 = document.createElement('div')\r\n      bg2.style.position = 'absolute'\r\n      bg2.style.width = ruler.prototype.utils.pixelize(options.rulerHeight);\r\n      bg2.style.top = 0;\r\n      bg2.style.bottom = 0;\r\n      bg2.style.background = '#fff';\r\n      container.appendChild(bg2)\r\n      return cornerNode\r\n\r\n    }\r\n\r\n    function mousedown(e) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      clearGuides();\r\n    }\r\n\r\n    return function (container, cornerSides) {\r\n      cornerSides.forEach(function (side) {\r\n        var corner = cornerDraw(container, side);\r\n        corner.addEventListener('mousedown', mousedown);\r\n        corner.destroy = function () {\r\n          corner.removeEventListener('mousedown', mousedown);\r\n          corner.parentNode.removeChild(corner);\r\n        };\r\n\r\n        corners.push(corner);\r\n      })\r\n    }\r\n\r\n  })();\r\n\r\n  var mouseup = function (e) {\r\n    guides.forEach(function (guide) {\r\n      guide.line.stopDrag();\r\n    })\r\n  };\r\n\r\n  var constructRulers = function (curOptions) {\r\n    theRulerDOM = ruler.prototype.utils.addClasss(theRulerDOM, 'rul_wrapper');\r\n    options = ruler.prototype.utils.extend(defaultOptions, curOptions);\r\n    theRulerDOM = options.container.appendChild(theRulerDOM);\r\n    options.sides.forEach(function (side) {\r\n      constructRuler(theRulerDOM, side);\r\n    });\r\n    constructCorner(theRulerDOM, options.cornerSides);\r\n    options.container.addEventListener('mouseup', mouseup);\r\n\r\n\r\n  };\r\n\r\n  var forEachRuler = function (cb) {\r\n    var index = 0;\r\n    for (var rul in rulerz) {\r\n      if (rulerz.hasOwnProperty(rul)) {\r\n        cb(rulerz[rul], index++);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  var setPos = function (values) {\r\n    var orgX = 0,\r\n      orgY,\r\n      deltaX = 0,\r\n      deltaY = 0;\r\n    forEachRuler(function (curRul) {\r\n      if (curRul.dimension === VERTICAL) {\r\n        orgY = curRul.canvas.style.top;\r\n        curRul.canvas.style.top = ruler.prototype.utils.pixelize(curRul.orgPos + (parseInt(values.y)));\r\n        deltaY = parseInt(orgY) - parseInt(curRul.canvas.style.top);\r\n      } else {\r\n        orgX = curRul.canvas.style.left;\r\n        curRul.canvas.style.left = ruler.prototype.utils.pixelize(curRul.orgPos + (parseInt(values.x)));\r\n        deltaX = parseInt(orgX) - parseInt(curRul.canvas.style.left);\r\n      }\r\n    });\r\n    guides.forEach(function (guide) {\r\n      if (guide.dimension === HORIZONTAL) {\r\n        guide.line.guideLine.style.top = ruler.prototype.utils.pixelize(parseInt(guide.line.guideLine.style.top) - deltaY);\r\n        guide.line.curPosDelta(parseInt(values.y));\r\n      } else {\r\n        guide.line.guideLine.style.left = ruler.prototype.utils.pixelize(parseInt(guide.line.guideLine.style.left) - deltaX);\r\n        guide.line.curPosDelta(parseInt(values.x));\r\n      }\r\n    });\r\n    CUR_DELTA_X = parseInt(values.x);\r\n    CUR_DELTA_Y = parseInt(values.y);\r\n\r\n  };\r\n\r\n  var setScale = function (newScale) {\r\n    var curPos, orgDelta, curScaleFac;\r\n    forEachRuler(function (rul) {\r\n      rul.context.clearRect(0, 0, rul.canvas.width, rul.canvas.height);\r\n      rul.context.beginPath();\r\n      rul.setScale(newScale);\r\n      rul.context.stroke();\r\n      CUR_SCALE = newScale;\r\n    });\r\n\r\n    guides.forEach(function (guide) {\r\n      if (guide.dimension === HORIZONTAL) {\r\n        curPos = parseInt(guide.line.guideLine.style.top);\r\n        orgDelta = options.rulerHeight + 1;\r\n        curScaleFac = (parseFloat(newScale) / guide.line.curScale());\r\n        guide.line.guideLine.style.top = ruler.prototype.utils.pixelize(((curPos - orgDelta - CUR_DELTA_Y) / curScaleFac) + orgDelta + CUR_DELTA_Y);\r\n        guide.line.curScale(newScale);\r\n      } else {\r\n        curPos = parseInt(guide.line.guideLine.style.left);\r\n        orgDelta = options.rulerHeight + 1;\r\n        curScaleFac = (parseFloat(newScale) / guide.line.curScale());\r\n        guide.line.guideLine.style.left = ruler.prototype.utils.pixelize(((curPos - orgDelta - CUR_DELTA_X) / curScaleFac) + orgDelta + CUR_DELTA_X);\r\n        guide.line.curScale(newScale);\r\n      }\r\n    });\r\n  };\r\n\r\n  var setUnit = function (newUnit) {\r\n    forEachRuler(function (rul){\r\n      rul.setUnit(newUnit);\r\n    })\r\n  }\r\n  var clearGuides = function () {\r\n    guides.forEach(function (guide) {\r\n      guide.line.destroy();\r\n    });\r\n    guides = [];\r\n  };\r\n\r\n  var toggleGuideVisibility = function (val) {\r\n    var func = val ? 'show' : 'hide';\r\n    guides.forEach(function (guide) {\r\n      guide.line[func]();\r\n    });\r\n  };\r\n\r\n  var toggleRulerVisibility = function (val) {\r\n    var state = val ? 'block' : 'none';\r\n    theRulerDOM.style.display = state;\r\n    var trackers = options.container.querySelectorAll('.rul_tracker');\r\n    if (trackers.length > 0) {\r\n      trackers[0].style.display = state;\r\n      trackers[1].style.display = state;\r\n    }\r\n\r\n  };\r\n\r\n  var getGuides = function () {\r\n    return guides.map(function (guide) {\r\n      return {\r\n        posX: Math.round((parseInt(guide.line.guideLine.style.left) - CUR_DELTA_X - options.rulerHeight) * CUR_SCALE),\r\n        posY: Math.round((parseInt(guide.line.guideLine.style.top) - CUR_DELTA_Y - options.rulerHeight) * CUR_SCALE),\r\n        dimension: guide.dimension\r\n      }\r\n    });\r\n  };\r\n\r\n  var setGuides = function (_guides) {\r\n    if (!_guides) {\r\n      return\r\n    }\r\n    _guides.forEach(function (guide) {\r\n      constructGuide(guide.dimension, guide.posX, guide.posY, null, true)\r\n    })\r\n\r\n  };\r\n\r\n  var destroy = function () {\r\n    clearGuides();\r\n    forEachRuler(function (ruler) {\r\n      ruler.destroy();\r\n    });\r\n    corners.forEach(function (corner) {\r\n      corner.destroy();\r\n    });\r\n    options.container.removeEventListener('mouseup', mouseup);\r\n    theRulerDOM.parentNode.removeChild(theRulerDOM);\r\n  };\r\n\r\n  return {\r\n    VERTICAL: VERTICAL,\r\n    HORIZONTAL: HORIZONTAL,\r\n    setPos: setPos,\r\n    setScale: setScale,\r\n    setUnit: setUnit,\r\n    clearGuides: clearGuides,\r\n    getGuides: getGuides,\r\n    setGuides: setGuides,\r\n    constructRulers: constructRulers,\r\n    toggleRulerVisibility: toggleRulerVisibility,\r\n    toggleGuideVisibility: toggleGuideVisibility,\r\n    destroy: destroy\r\n  }\r\n};\r\n\r\n\r\nruler.prototype.rulerConstructor = function (_canvas, options, rulDimension) {\r\n  var canvas = _canvas,\r\n    context = canvas.getContext('2d'),\r\n    rulThickness = 0,\r\n    rulLength = 0,\r\n    rulScale = 1,\r\n    unit = 'px',\r\n    dimension = rulDimension || 2,\r\n    orgPos = 0,\r\n    tracker = document.createElement('div'),\r\n    container;\r\n\r\n  var getLength = function () {\r\n    return rulLength;\r\n  };\r\n\r\n  var getThickness = function () {\r\n    return rulThickness;\r\n  };\r\n\r\n  var getScale = function () {\r\n    return rulScale;\r\n  };\r\n\r\n  var setScale = function (newScale) {\r\n    rulScale = parseFloat(newScale);\r\n    drawPoints();\r\n    return rulScale;\r\n  };\r\n  var setUnit = function (newUnit) {\r\n    unit = newUnit;\r\n    drawPoints();\r\n    return unit;\r\n  };\r\n\r\n  var drawRuler = function (_rulerLength, _rulerThickness, _rulerScale) {\r\n    container = _rulerLength;\r\n    // rulLength = canvas.width = Math.max(_rulerLength.offsetWidth, _rulerLength.offsetHeight) * 2;\r\n    //6000PX\r\n    rulLength = canvas.width = 6000 * 2;\r\n    rulThickness = canvas.height = _rulerThickness;\r\n    rulScale = _rulerScale || rulScale;\r\n    context.fillStyle = '#fff';\r\n    context.fillRect(0, 0, rulLength, rulThickness);\r\n    context.strokeStyle = options.strokeStyle;\r\n    context.font = options.fontSize + ' ' + options.fontFamily;\r\n    context.lineWidth = options.lineWidth;\r\n    context.beginPath();\r\n    context.fillStyle = '#0006';\r\n    drawPoints();\r\n    context.stroke();\r\n\r\n\r\n  };\r\n\r\n\r\n  var drawPoints = function () {\r\n    var pointLength = 0,\r\n      label = '',\r\n      delta = 0,\r\n      draw = false,\r\n      lineLengthMax = 0,\r\n      lineLengthMed = rulThickness / 2,\r\n      lineLengthMin = rulThickness / 2 + 2;\r\n    if (unit == 'px') {\r\n      for (var pos = 0; pos <= rulLength; pos += 1) {\r\n        delta = ((rulLength / 2) - pos);\r\n        draw = false;\r\n        label = '';\r\n\r\n        if (delta % 50 === 0) {\r\n          pointLength = lineLengthMax;\r\n          label = Math.round(-delta * rulScale);\r\n          draw = true;\r\n        } else if (delta % 25 === 0) {\r\n          pointLength = lineLengthMed;\r\n          draw = true;\r\n        } else if (delta % 5 === 0) {\r\n          pointLength = lineLengthMin;\r\n          draw = true;\r\n        }\r\n        if (draw) {\r\n          context.moveTo(pos + 0.5, rulThickness + 0.5);\r\n          context.lineTo(pos + 0.5, pointLength + 0.5);\r\n          context.fillText(label, pos + 1.5, (rulThickness / 2) + 1);\r\n        }\r\n      }\r\n    } else {\r\n      var unitPX = parseFloat((1 / rulScale).toFixed(2))\r\n      for (var pos = 0; pos <= rulLength; pos += unitPX) {\r\n        delta = ((rulLength / 2) - pos);\r\n        draw = false;\r\n        label = Math.round(-delta * rulScale);\r\n\r\n        if (label % 20 === 0) {\r\n          pointLength = lineLengthMax;\r\n          draw = true;\r\n        } else if (label % 10 === 0) {\r\n          label = ''\r\n          pointLength = lineLengthMed;\r\n          draw = true;\r\n        }\r\n        if (draw) {\r\n          context.moveTo(pos + 0.5, rulThickness + 0.5);\r\n          context.lineTo(pos + 0.5, pointLength + 0.5);\r\n          context.fillText(label, pos + 1.5, (rulThickness / 2) + 1);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  var mousemove = function (e) {\r\n    var posX = e.clientX;\r\n    var posY = e.clientY;\r\n    e.preventDefault();\r\n    if (dimension === 2) {\r\n      tracker.style.left = ruler.prototype.utils.pixelize(posX - parseInt(options.container.getBoundingClientRect().left));\r\n    } else {\r\n      tracker.style.top = ruler.prototype.utils.pixelize(posY - parseInt(options.container.getBoundingClientRect().top));\r\n    }\r\n  };\r\n\r\n  var destroy = function () {\r\n    options.container.removeEventListener('mousemove', mousemove);\r\n    tracker.parentNode.removeChild(tracker);\r\n    this.clearListeners && this.clearListeners();\r\n\r\n  };\r\n\r\n  var initTracker = function () {\r\n    tracker = options.container.appendChild(tracker);\r\n    ruler.prototype.utils.addClasss(tracker, 'rul_tracker');\r\n    var height = ruler.prototype.utils.pixelize(options.rulerHeight);\r\n    if (dimension === 2) {\r\n      tracker.style.height = height;\r\n      tracker.style.top = 0;\r\n      tracker.style.bottom = 0;\r\n    } else {\r\n      tracker.style.width = height;\r\n      tracker.style.right = 0;\r\n      tracker.style.left = 0;\r\n    }\r\n\r\n    options.container.addEventListener('mousemove', mousemove);\r\n  };\r\n\r\n  if (options.enableMouseTracking) {\r\n    initTracker();\r\n  }\r\n\r\n\r\n  return {\r\n    getLength: getLength,\r\n    getThickness: getThickness,\r\n    getScale: getScale,\r\n    setScale: setScale,\r\n    dimension: dimension,\r\n    orgPos: orgPos,\r\n    canvas: canvas,\r\n    context: context,\r\n    drawRuler: drawRuler,\r\n    drawPoints: drawPoints,\r\n    destroy: destroy,\r\n    setUnit: setUnit\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Created by maor.frankel on 5/23/15.\r\n */\r\nruler.prototype.guideLine = function (line, _dragContainer, lineDimension, options, curDelta, moveCB, event) {\r\n\r\n  var self,\r\n    guideLine = line,\r\n    _curScale = 1,\r\n    _assigned = false,\r\n    _curPosDelta = curDelta || 0,\r\n    dragContainer = _dragContainer,\r\n    dimension = lineDimension || 2,\r\n    moveCB = moveCB || function () {\r\n    };\r\n\r\n\r\n  var curPosDelta = function (val) {\r\n    if (typeof val === 'undefined') {\r\n      return _curPosDelta;\r\n    }\r\n    return (_curPosDelta = val);\r\n  };\r\n\r\n  var assigned = function (val) {\r\n    if (typeof val === 'undefined') {\r\n      return _assigned;\r\n    }\r\n    return (_assigned = val);\r\n  };\r\n\r\n  var curScale = function (val) {\r\n    if (typeof val === 'undefined') {\r\n      return _curScale;\r\n    }\r\n    return (_curScale = val);\r\n  };\r\n\r\n\r\n  var draggable = (function () {\r\n    return {\r\n      move: function (xpos, ypos) {\r\n        guideLine.style.left = ruler.prototype.utils.pixelize(xpos);\r\n        guideLine.style.top = ruler.prototype.utils.pixelize(ypos);\r\n        updateToolTip(xpos, ypos);\r\n        moveCB(self, xpos, ypos);\r\n      },\r\n      startMoving: function (evt) {\r\n        ruler.prototype.utils.addClasss(guideLine, ['rul_line_dragged']);\r\n        evt = evt || window.event;\r\n        var posX = evt ? evt.clientX : 0,\r\n          posY = evt ? evt.clientY : 0,\r\n          divTop = parseInt(guideLine.style.top || 0),\r\n          divLeft = parseInt(guideLine.style.left || 0),\r\n          eWi = parseInt(guideLine.offsetWidth),\r\n          eHe = parseInt(guideLine.offsetHeight),\r\n          cWi = parseInt(dragContainer.offsetWidth),\r\n          cHe = parseInt(dragContainer.offsetHeight),\r\n          cursor = dimension === 2 ? 'ns-resize' : 'ew-resize';\r\n\r\n        options.container.style.cursor = cursor;\r\n        guideLine.style.cursor = cursor;\r\n        var diffX = posX - divLeft,\r\n          diffY = posY - divTop;\r\n        document.onmousemove = function moving(evt) {\r\n          evt = evt || window.event;\r\n          var posX = evt.clientX,\r\n            posY = evt.clientY,\r\n            aX = posX - diffX,\r\n            aY = posY - diffY;\r\n\r\n          if (aX < 0) {\r\n            aX = 0;\r\n          }\r\n          if (aY < 0) {\r\n            aY = 0;\r\n          }\r\n\r\n          if (aX + eWi > cWi) {\r\n            aX = cWi - eWi;\r\n          }\r\n          if (aY + eHe > cHe) {\r\n            aY = cHe - eHe;\r\n          }\r\n\r\n          draggable.move(aX, aY);\r\n        };\r\n        showToolTip();\r\n      },\r\n      stopMoving: function () {\r\n        options.container.style.cursor = null;\r\n        guideLine.style.cursor = null;\r\n        document.onmousemove = function () {\r\n        };\r\n        hideToolTip();\r\n        ruler.prototype.utils.removeClasss(guideLine, ['rul_line_dragged']);\r\n      }\r\n    }\r\n  })();\r\n\r\n  var showToolTip = function (e) {\r\n    if (!options.enableToolTip) {\r\n      return;\r\n    }\r\n    ruler.prototype.utils.addClasss(guideLine, 'rul_tooltip');\r\n  };\r\n\r\n  var updateToolTip = function (x, y) {\r\n    if (y) {\r\n      guideLine.dataset.tip = 'Y: ' + Math.round((y - options.rulerHeight - 1 - _curPosDelta) * _curScale) + '';\r\n    } else {\r\n      guideLine.dataset.tip = 'X: ' + Math.round((x - options.rulerHeight - 1 - _curPosDelta) * _curScale) + '';\r\n    }\r\n  };\r\n\r\n  var hideToolTip = function (e) {\r\n    ruler.prototype.utils.removeClasss(guideLine, 'rul_tooltip');\r\n  };\r\n\r\n  var destroy = function () {\r\n    draggable.stopMoving();\r\n    moveCB = null;\r\n    guideLine.removeEventListener('mousedown', mousedown);\r\n    guideLine.removeEventListener('mouseup', mouseup);\r\n    guideLine.removeEventListener('dblclick', dblclick);\r\n    guideLine.parentNode && guideLine.parentNode.removeChild(guideLine);\r\n  };\r\n\r\n  var hide = function () {\r\n    guideLine.style.display = 'none';\r\n  };\r\n\r\n  var show = function () {\r\n    guideLine.style.display = 'block';\r\n  };\r\n\r\n  var mousedown = function (e) {\r\n    e.stopPropagation();\r\n    e.preventDefault()\r\n    draggable.startMoving();\r\n  };\r\n\r\n  var mouseup = function (e) {\r\n    draggable.stopMoving();\r\n  };\r\n\r\n  var dblclick = function (e) {\r\n    e.stopPropagation();\r\n    destroy();\r\n  };\r\n\r\n  guideLine.addEventListener('mousedown', mousedown);\r\n\r\n  guideLine.addEventListener('mouseup', mouseup);\r\n\r\n  guideLine.addEventListener('dblclick', dblclick);\r\n  if (event) draggable.startMoving(event);\r\n\r\n  self = {\r\n    setAsDraggable: draggable,\r\n    startDrag: draggable.startMoving,\r\n    stopDrag: draggable.stopMoving,\r\n    destroy: destroy,\r\n    curScale: curScale,\r\n    assigned: assigned,\r\n    curPosDelta: curPosDelta,\r\n    guideLine: guideLine,\r\n    dimension: dimension,\r\n    hide: hide,\r\n    show: show\r\n  };\r\n  return self;\r\n\r\n};\r\n/**\r\n * Created by maor.frankel on 5/25/15.\r\n */\r\nruler.prototype.utils = {\r\n  extend: function extend() {\r\n    for (var i = 1; i < arguments.length; i++)\r\n      for (var key in arguments[i])\r\n        if (arguments[i].hasOwnProperty(key))\r\n          arguments[0][key] = arguments[i][key];\r\n    return arguments[0];\r\n  },\r\n  pixelize: function (val) {\r\n    return val + 'px';\r\n  },\r\n  prependChild: function (container, element) {\r\n    return container.insertBefore(element, container.firstChild);\r\n  },\r\n  addClasss: function (element, classNames) {\r\n    if (!(classNames instanceof Array)) {\r\n      classNames = [classNames];\r\n    }\r\n\r\n    classNames.forEach(function (name) {\r\n      element.className += ' ' + name;\r\n    });\r\n\r\n    return element;\r\n\r\n  },\r\n  removeClasss: function (element, classNames) {\r\n    var curCalsss = element.className;\r\n    if (!(classNames instanceof Array)) {\r\n      classNames = [classNames];\r\n    }\r\n\r\n    classNames.forEach(function (name) {\r\n      curCalsss = curCalsss.replace(name, '');\r\n    });\r\n    element.className = curCalsss;\r\n    return element;\r\n\r\n  }\r\n};\r\n\r\nexport default ruler","/**\r\n * Created by k186 on 2021/1/19.\r\n * Name:\r\n * GitHub:\r\n * Email: k1868548@gmail.com\r\n */\r\n\r\n\r\nconst CONFIG = {\r\n  x: 0,\r\n  y: 0,\r\n  scale: 1,\r\n  maxScale: 3,\r\n  minScale: 0.5,\r\n  moving: true,\r\n  speed: 0.2,\r\n  origin: '0,0,0'\r\n};\r\nvar _fn;\r\n\r\nexport class Panmove {\r\n  constructor(config) {\r\n    this.$config = Object.assign({}, CONFIG, config);\r\n    let {zoomDom, eventDom} = this.$config\r\n    this.zoomDom = zoomDom\r\n    this.eventDom = eventDom\r\n    this.zoomDom.style.transform = 'matrix(1,0,0,1,0,0)';\r\n    this.center()\r\n    this.lastPos();\r\n  }\r\n\r\n  center() {\r\n    this.$config.x = this.eventDom.offsetWidth / 2 - this.zoomDom.offsetWidth / 2\r\n    this.$config.y = this.$config.y || 30\r\n    this.moveTo(this.$config.scale, {\r\n      x: this.$config.x,\r\n      y: this.$config.y\r\n    })\r\n  }\r\n\r\n  cal(e) {\r\n    var self = this;\r\n    var evtDom = self.eventDom;\r\n    var u = self.$config.x;\r\n    var v = self.$config.y;\r\n    var lastScale = self.$config.scale;\r\n    var scale = e.wheelDelta <= 0 ? lastScale - self.$config.speed : lastScale + self.$config.speed;\r\n    scale = Number(scale.toFixed(2))\r\n    if (scale >= self.$config.maxScale || scale <= self.$config.minScale) {\r\n      return false\r\n    }\r\n    var scaleRate = Number(parseFloat(scale / lastScale).toFixed(2))\r\n    if (scale <= 0.1) {\r\n      return false\r\n    }\r\n    var x0 = e.clientX - self.getRect(evtDom).left;\r\n    var y0 = e.clientY - self.getRect(evtDom).top;\r\n\r\n    var offsetX = Number(parseFloat(scaleRate * u + (1 - scaleRate) * x0).toFixed(2));\r\n    var offsetY = Number(parseFloat(scaleRate * v + (1 - scaleRate) * y0).toFixed(2));\r\n    self.$config.x = offsetX\r\n    self.$config.y = offsetY\r\n    self.$config.scale = scale\r\n    self.matrixTo();\r\n    self.lastPos();\r\n    self.$config.cal && self.$config.cal(self.$config)\r\n    return self.$config.scale\r\n  }\r\n\r\n  getRect(dom) {\r\n    return dom.getBoundingClientRect()\r\n  }\r\n\r\n  zoomIn(e) {\r\n    this.cal({\r\n      wheelDelta: 0,\r\n      clientX: this.getRect(this.eventDom).width / 2,\r\n      clientY: this.getRect(this.eventDom).height / 2\r\n    });\r\n  }\r\n\r\n  zoomOut(e) {\r\n    this.cal({\r\n      wheelDelta: 1,\r\n      clientX: this.getRect(this.eventDom).width / 2,\r\n      clientY: this.getRect(this.eventDom).height / 2\r\n    });\r\n  }\r\n\r\n  zoom(e) {\r\n    return this.cal(e)\r\n  }\r\n\r\n\r\n  moveTo(scale, position) {\r\n    this.$config.scale = scale ? scale : this.$config.scale;\r\n    this.$config.x = position.x ? position.x : this.$config.x;\r\n    this.$config.y = position.y ? position.y : this.$config.y;\r\n    this.matrixTo();\r\n  }\r\n\r\n  move(e) {\r\n    var self = this;\r\n    if (!self.canMove) {\r\n      return\r\n    }\r\n    self.$config.x = self.$oldPos.x + e.clientX - self.moveStart.clientX;\r\n    self.$config.y = self.$oldPos.y + e.clientY - self.moveStart.clientY;\r\n    this.matrixTo();\r\n    self.$config.move && self.$config.move(e)\r\n  }\r\n\r\n  matrixTo() {\r\n    var self = this;\r\n    self.zoomDom.style.transform = _fn.getMatrix(\r\n      {\r\n        x: self.$config.scale,\r\n        y: self.$config.scale\r\n      },\r\n      {\r\n        x: self.$config.x,\r\n        y: self.$config.y\r\n      })\r\n  }\r\n\r\n\r\n  addMask() {\r\n    var self = this;\r\n    if (self.maskLoad) {\r\n      return\r\n    }\r\n    if (!self.mask) {\r\n      self.mask = document.createElement('div');\r\n      self.mask.style.zIndex = 999\r\n      self.mask.style.position = 'absolute'\r\n      self.mask.style.top = 0\r\n      self.mask.style.right = 0\r\n      self.mask.style.left = 0\r\n      self.mask.style.bottom = 0\r\n      self.mask.addEventListener('mousedown', (e) => {\r\n        if (e.button === 0) {\r\n          e.stopPropagation();\r\n          self.getStartPos(e);\r\n          self.canMove = true\r\n        }\r\n      })\r\n    }\r\n    self.eventDom.append(self.mask);\r\n    self.maskLoad = true;\r\n  }\r\n\r\n  removeMask() {\r\n    var self = this;\r\n    self.mask && self.mask.remove();\r\n    self.maskLoad = false;\r\n  }\r\n\r\n  getStartPos(e) {\r\n    this.moveStart = e;\r\n  }\r\n\r\n  lastPos(e) {\r\n\r\n    var self = this;\r\n    var old = this.zoomDom.style.transform.replace(/^matrix(3d)?\\((.*)\\)$/, '$2').split(/, /);\r\n    this.$oldPos = {\r\n      x: parseFloat(old[4], 3),\r\n      y: parseFloat(old[5], 3),\r\n      scale: parseFloat(old[0], 3)\r\n    };\r\n    self.canMove = false\r\n    e && self.$config.moveStop && self.$config.moveStop(e)\r\n  }\r\n}\r\n\r\n_fn = {\r\n  // isIn: function ($div, e) {\r\n  //   var x = e.clientX;\r\n  //   var y = e.clientY;\r\n  //   var div_x_1 = $div.offset().left;\r\n  //   var div_y_1 = $div.offset().top;\r\n  //   var div_x_2 = $div.offset().left + $div.outerWidth();\r\n  //   var div_y_2 = $div.offset().top + $div.outerHeight();\r\n  //   if (x < div_x_1 || x > div_x_2 || y < div_y_1 || y > div_y_2) {\r\n  //     return false\r\n  //   } else {\r\n  //     return true\r\n  //   }\r\n  // },\r\n  getMatrix: function (scale, position) {\r\n    //var old = this.zoomDom.css('transform').replace(/^matrix(3d)?\\((.*)\\)$/, '$2').split(/, /);\r\n    //this.$config.x = parseFloat(old[4], 3);\r\n    //this.$config.y = parseFloat(old[5], 3);\r\n    //this.$config.scale = parseFloat(old[0], 3);\r\n    var a = 1, b = 0, c = 0, d = 1, e = 0, f = 0;\r\n    var sx = scale.x ? scale.x : 1;\r\n    var sy = scale.y ? scale.y : 1;\r\n    var x = position.x ? position.x : 0;\r\n    var y = position.y ? position.y : 0;\r\n\r\n    sx = Number(sx);\r\n    sy = Number(sy);\r\n    x = Number(x);\r\n    y = Number(y);\r\n\r\n    if (isNaN(sx) || isNaN(sy) || isNaN(x) || isNaN(y)) {\r\n      console.warn('isNaN with scale');\r\n      return 'matrix(1,0,0,1,0,0)'\r\n    }\r\n    return 'matrix(' + sx * a + ',0,0,' + sy * d + ',' + (e + x) + ',' + (f + y) + ')'\r\n  }\r\n};\r\n","/**\r\n * Created by k186 on 2020/11/24.\r\n * Name:\r\n * GitHub:\r\n * Email: k1868548@gmail.com\r\n */\r\nimport ruler from './ruler'\r\nimport './pdruler.scss'\r\nimport {Panmove} from './panmove.js'\r\nimport Bus from \"@/dragBase/event\";\r\n\r\nlet PANMOVE, RULER, DEFAULTSCALE;\r\n\r\nfunction ready(e) {\r\n  if (e.code.toUpperCase() == 'SPACE') {\r\n    PANMOVE.addMask()\r\n    e.stopPropagation();\r\n  }\r\n}\r\n\r\nfunction cancel() {\r\n  PANMOVE.removeMask()\r\n}\r\n\r\nfunction move(e) {\r\n  PANMOVE.move(e)\r\n}\r\n\r\nfunction mouseUp(e) {\r\n  if (e.button === 0) {\r\n    PANMOVE.lastPos(e)\r\n  }\r\n}\r\n\r\nfunction mouseWheel(e) {\r\n  if (e.ctrlKey === true || e.metaKey) {\r\n    PANMOVE.zoom(e);\r\n    e.preventDefault();\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  bind() {\r\n\r\n  },\r\n  inserted(el, binding) {\r\n    DEFAULTSCALE = binding.value;\r\n    let rulerHeight = 15\r\n    RULER = el.ruler = new ruler({\r\n      container: el,\r\n      // reference to DOM element to apply rulers on\r\n      rulerHeight: rulerHeight,\r\n      // thickness of ruler\r\n      fontFamily: 'arial',\r\n      // font for points\r\n      fontSize: '10px',\r\n      strokeStyle: '#D6D6D6',\r\n      lineWidth: 1,\r\n      enableMouseTracking: true,\r\n      enableToolTip: false\r\n    })\r\n    window.Ruler = RULER\r\n    PANMOVE = el.panmove = new Panmove({\r\n      zoomDom: el.querySelector('.layer-box'),\r\n      eventDom: el,\r\n      moveStop() {\r\n        RULER.api.setPos({x: PANMOVE.$config.x - rulerHeight, y: PANMOVE.$config.y - rulerHeight})\r\n      },\r\n      move(e) {\r\n        RULER.api.setPos({x: PANMOVE.$config.x - rulerHeight, y: PANMOVE.$config.y - rulerHeight})\r\n      },\r\n      cal($config) {\r\n        let scale = parseFloat(parseFloat(1 / (DEFAULTSCALE * $config.scale)).toFixed(2));\r\n        RULER.api.setScale(scale)\r\n        RULER.api.setPos({x: $config.x - rulerHeight, y: $config.y - rulerHeight})\r\n        Bus.$emit('rulerScale', $config.scale)\r\n      }\r\n    })\r\n\r\n    RULER.api.setScale(parseFloat(1 / DEFAULTSCALE) || 1)\r\n    RULER.api.setUnit(DEFAULTSCALE == 1 ? 'px' : '')\r\n    //\r\n    Bus.$on('initTree', () => {\r\n      Bus.$nextTick(() => {\r\n        PANMOVE.center()\r\n        PANMOVE.matrixTo();\r\n        PANMOVE.lastPos();\r\n        RULER.api.setPos({x: PANMOVE.$config.x - rulerHeight, y: PANMOVE.$config.y - rulerHeight})\r\n      })\r\n    })\r\n\r\n    RULER.api.setPos({x: PANMOVE.$config.x - rulerHeight, y: PANMOVE.$config.y - rulerHeight})\r\n\r\n\r\n    document.body.addEventListener('keydown', ready)\r\n    document.body.addEventListener('keyup', cancel)\r\n    document.addEventListener('mousemove', move)\r\n    document.addEventListener('mouseup', mouseUp)\r\n    document.addEventListener('mouseout', mouseUp)\r\n    document.addEventListener('mousewheel', mouseWheel, {passive: false})\r\n  },\r\n  unbind() {\r\n    document.body.removeEventListener('keydown', ready)\r\n    document.body.removeEventListener('keyup', cancel)\r\n    document.removeEventListener('mousemove', move)\r\n    document.removeEventListener('mouseup', mouseUp)\r\n    document.removeEventListener('mouseout', mouseUp)\r\n    document.removeEventListener('mousewheel', mouseWheel)\r\n  }\r\n}","/**\r\n * Created by k186 on 2020/12/28.\r\n * Name:  excluded border\r\n * GitHub:\r\n * Email: k1868548@gmail.com\r\n */\r\nimport './frameselect.scss'\r\nimport {intersect, throttle, hasClass, cleanSelect} from '@/dragBase/utils/utils'\r\n\r\nlet border = 'body'\r\nlet type = 'fit';\r\nlet excluded = null;\r\nlet active = false;\r\nlet selected = null;\r\nlet result = {};\r\nlet startPos = {\r\n  left: 0,\r\n  top: 0,\r\n  width: 0,\r\n  height: 0\r\n}\r\nlet box = document.createElement('div')\r\nbox.setAttribute('class', 'pd-frame-box')\r\nexport default {\r\n  bind() {\r\n\r\n  },\r\n  inserted(el) {\r\n    el.addEventListener('mousedown', mousedown)\r\n    document.addEventListener('mousemove', mousemove)\r\n    document.addEventListener('mouseup', mouseup)\r\n  },\r\n  update(el, binding) {\r\n    selected = typeof binding.value.selected == 'function' ? binding.value.selected : null\r\n    border = el\r\n    excluded = binding.value.excluded || null\r\n    type = binding.value.type || type\r\n  },\r\n  componentUpdated() {\r\n\r\n  },\r\n  unbind(el) {\r\n    el.removeEventListener('mousedown', mousedown)\r\n    document.removeEventListener('mousemove', mousemove)\r\n  }\r\n}\r\n\r\nfunction mousedown(e) {\r\n  if (e.button !== 0) {\r\n    return\r\n  }\r\n  if (hasClass(e.target, 'vdr')) {\r\n    return\r\n  }\r\n  if (border === 'body') {\r\n    border = document.querySelector(border)\r\n  }\r\n  let rect = border.getBoundingClientRect()\r\n  if (!intersect(rect, rect, 'pointer', e)) {\r\n    active = false\r\n    return\r\n  }\r\n  result = {}\r\n  active = true\r\n  startPos = {left: e.pageX, top: e.pageY, width: 0, height: 0}\r\n  box.style.left = startPos.left + 'px';\r\n  box.style.top = startPos.top + 'px';\r\n  box.style.width = startPos.width;\r\n  box.style.height = startPos.height;\r\n}\r\n\r\n\r\nfunction mousemove(e) {\r\n  if (!active) {\r\n    return\r\n  }\r\n  if (active && (Math.abs(e.pageX - startPos.left) >= 10)) {\r\n    if (!document.body.contains(box)) {\r\n      document.body.append(box);\r\n    }\r\n  }\r\n  cleanSelect()\r\n  if (e.pageX >= startPos.left) {\r\n    box.style.width = (e.pageX - startPos.left + 1) + 'px';\r\n  }\r\n  if (e.pageX < startPos.left) {\r\n    box.style.left = e.pageX + 'px';\r\n    box.style.width = (startPos.left - e.pageX) + 'px';\r\n  }\r\n  if (e.pageY >= startPos.top) {\r\n    box.style.height = (e.pageY - startPos.top + 1) + 'px';\r\n  }\r\n  if (e.pageY < startPos.top) {\r\n    box.style.top = e.pageY + 'px';\r\n    box.style.height = (startPos.top - e.pageY) + 'px';\r\n  }\r\n  if (excluded && excluded.children.length) {\r\n    throttle(getTouchBox, 50)();\r\n  }\r\n}\r\n\r\nfunction mouseup(e) {\r\n  if (!active) {\r\n    return\r\n  }\r\n  active = false;\r\n  box.remove();\r\n  //cleanSelect()\r\n  if (selected && Object.keys(result).length) {\r\n    selected(result)\r\n  }\r\n}\r\n\r\nfunction getTouchBox() {\r\n  result = {};\r\n  excluded.childNodes.forEach(el => {\r\n    if (el.hasAttribute('pd-id') && intersect(el.getBoundingClientRect(), box.getBoundingClientRect(), type)) {\r\n      result[el.getAttribute('pd-id')] = true\r\n    }\r\n  })\r\n}\r\n\r\n\r\n","/**\r\n * Created by k186 on 2021/4/6.\r\n * Name:\r\n * GitHub:\r\n * Email: k1868548@gmail.com\r\n */\r\n\r\nimport {hasClass, isArray, isPromise} from \"@/dragBase/utils/utils\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      shiftKey: false\r\n    }\r\n  },\r\n  methods: {\r\n    lock({isLock = false}) {\r\n      this.shiftKey = isLock\r\n    },\r\n    select({id}) {\r\n      this.$fire('select', {event: {ctrlKey: false}, id: id}, false)\r\n    },\r\n    move({direction}) {\r\n      let selected = isArray(this.selected) ? this.selected : [this.selected]\r\n      let resizeable = this.$refs.resizeable[0]\r\n      if (!resizeable || !selected) {\r\n        return\r\n      }\r\n      selected.forEach(el => {\r\n        let {left, top} = el\r\n        if (direction == 'up') {\r\n          top -= 1\r\n        } else if (direction == 'down') {\r\n          top += 1\r\n        } else if (direction == 'left') {\r\n          left -= 1\r\n        } else if (direction == 'right') {\r\n          left += 1\r\n        }\r\n        this.$fire('updateItem', {id: el.id, data: {left: parseFloat(left.toFixed(2)), top: parseFloat(top.toFixed(2))}})\r\n      })\r\n      this.$fire('move', direction, true)\r\n    },\r\n    copy() {\r\n      let item = this.selected;\r\n      if (item.length > 0) {\r\n        item = JSON.parse(JSON.stringify(item))\r\n        var promise = this.beforeCopy(item);\r\n        if (isPromise(promise)) {\r\n          promise.then(res => {\r\n            this.$fire('copySelected', res, false)\r\n\r\n          })\r\n        } else {\r\n          this.$fire('copySelected', promise, false)\r\n        }\r\n      }\r\n    },\r\n    paste() {\r\n      this.$fire('paste')\r\n    },\r\n    undo() {\r\n      this.$fire('undo')\r\n    },\r\n    redo() {\r\n      // this.$fire('redo')\r\n    },\r\n    group() {\r\n      this.$fire('group', null, true)\r\n    },\r\n    breakGroup() {\r\n      this.$fire('breakGroup', null, true)\r\n    },\r\n    deleteSelect() {\r\n      if (this.selected.length > 0 && this.beforeDelete(this.selected)) {\r\n        this.$fire('removeSelected', null, true)\r\n      }\r\n    },\r\n    zIndex({type, id}) {\r\n      this.$fire(type, {id}, true)\r\n    },\r\n    cleanSelect({e}) {\r\n      if (e && hasClass(e.target, 'vdr')) {\r\n        return\r\n      }\r\n      if (this.selected.length <= 0) {\r\n        return\r\n      }\r\n      this.$fire('cleanSelect')\r\n    },\r\n    initTree({data, snapShot = true}) {\r\n      this.$fire('initTree', data, snapShot)\r\n    },\r\n    updateItem({id, data, snapShot = true}) {\r\n      this.$fire('updateItem', {id, data}, snapShot)\r\n    },\r\n    addToSketch({parent = null, item = [], snapShot = true}) {\r\n      if (item.length > 0) {\r\n        this.$fire('addToSketch', {parent, item}, snapShot)\r\n      }\r\n    }\r\n  },\r\n\r\n}","<template>\r\n  <div class=\"sketch-box\"\r\n       @click=\"(e)=>{cleanSelect({e})}\"\r\n       v-pd-ruler=\"ruleConfig.scale\"\r\n       v-frameselect=\"{excluded:$refs.box,selected:frameselectEvt,type:ruleConfig.frameSelectType}\">\r\n    <div class=\"layer-box\">\r\n      <div class=\"layer-content\" :style=\"getLayerSize\">\r\n        <template>\r\n          <div class=\"sketch-stage\">\r\n            <slot></slot>\r\n          </div>\r\n        </template>\r\n        <div class=\"item-box\" ref=\"box\">\r\n          <resizeable\r\n              v-for=\"(element,$index) in sketchupData.children\"\r\n              :z-index=\"$index\"\r\n              :key=\"element.id\"\r\n              :element.sync=\"element\"\r\n              :shiftKey=\"shiftKey\"\r\n              :scale=\"ruleConfig.scale\"\r\n              :rulerScale=\"rulerScale\"\r\n              ref=\"resizeable\"\r\n              @refLineParams=\"getRefLineParams\"\r\n          >\r\n          </resizeable>\r\n          <span class=\"ref-line v-line\"\r\n                v-for=\"item in vLine\"\r\n                :key=\"item.id\"\r\n                v-show=\"item.display\"\r\n                :style=\"{ left: item.position, top: item.origin, height: item.lineLength}\"\r\n          />\r\n          <span class=\"ref-line h-line\"\r\n                v-for=\"item in hLine\"\r\n                :key=\"item.id\"\r\n                v-show=\"item.display\"\r\n                :style=\"{ top: item.position, left: item.origin, width: item.lineLength}\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport resizeable from \"@/dragBase/dragresize/resizeable/resizeable\";\r\nimport Bus from '@/dragBase/event'\r\nimport pdRuler from \"@/dragBase/dragresize/directives/pdruler/pdruler\";\r\nimport frameselect from \"@/dragBase/dragresize/directives/frameselect/frameselect\";\r\nimport mixins from \"@/dragBase/pdDragBase/mixins\";\r\n\r\nexport default {\r\n  name: \"pdDragBase\",\r\n  mixins: [mixins],\r\n  directives: {pdRuler: pdRuler, frameselect: frameselect},\r\n  components: {resizeable},\r\n  beforeMount() {\r\n    //\r\n    this.initTree({\r\n      data: {\r\n        type: 'sketchup',\r\n        width: 10,\r\n        height: 10,\r\n        to: 0,\r\n        left: 0,\r\n        children: []\r\n      },\r\n      snapShot: false\r\n    })\r\n    Bus.$on('rulerScale', res => {\r\n      this.rulerScale = res;\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      vLine: [],\r\n      hLine: [],\r\n      rulerScale: 1\r\n    }\r\n  },\r\n  computed: {\r\n    selected() {\r\n      return Bus.selected\r\n    },\r\n    sketchupData() {\r\n      return Bus.state.sketchup\r\n    },\r\n    getLayerSize() {\r\n      let sketch = Bus.state.sketchup\r\n      return {\r\n        width: sketch.width * this.ruleConfig.scale + 'px',\r\n        height: sketch.height * this.ruleConfig.scale + 'px'\r\n      }\r\n    }\r\n  },\r\n  props: {\r\n    beforeCopy: {\r\n      type: Function,\r\n      default: function (val) {\r\n        return new Promise(( (resolve) => {\r\n          //  val\r\n          resolve(val)\r\n        } ))\r\n      }\r\n    },\r\n    beforeDelete: {\r\n      type: Function,\r\n      default() {\r\n        return function () {\r\n          return true\r\n        };\r\n      }\r\n    },\r\n    beforeAdd: {\r\n      type: Function,\r\n      default() {\r\n        return null\r\n      }\r\n    },\r\n    ruleConfig: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          scale: 1,\r\n          frameSelectType: 'fit',\r\n          stackLength: 30\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * \r\n     *\r\n     * */\r\n    getRefLineParams(params) {\r\n      const {vLine, hLine} = params\r\n      let id = 0\r\n      this.vLine = vLine.map(item => {\r\n        item[ 'id' ] = ++id\r\n        return item\r\n      })\r\n      this.hLine = hLine.map(item => {\r\n        item[ 'id' ] = ++id\r\n        return item\r\n      })\r\n    },\r\n    /**\r\n     * \r\n     * */\r\n    frameselectEvt(selectedMap) {\r\n      if (Object.keys(selectedMap).length) {\r\n        this.$fire('cleanSelect');\r\n        for ( let key in selectedMap ) {\r\n          // let el = this.sketchupData.children[this.sketchupData.children.findIndex(ele => {\r\n          //   return ele.id == key\r\n          // })]\r\n          // ctrl \r\n          this.$fire('select', {event: {ctrlKey: true}, id: key})\r\n        }\r\n      }\r\n    },\r\n\r\n    /**\r\n     * \r\n     * */\r\n    $fire(eventName, playLoad, snapShot = false) {\r\n      snapShot && Bus.$emit('recordShot')\r\n      Bus.$emit(eventName, playLoad)\r\n    },\r\n    /**\r\n     * \r\n     * */\r\n    $bind(eventName, callback) {\r\n      Bus.$on(eventName, callback)\r\n    },\r\n    /**\r\n     * \r\n     * */\r\n    $unbind(eventName, callback) {\r\n      Bus.$off(eventName, callback)\r\n    }\r\n  },\r\n  updated() {\r\n    if (Bus.state.snapshotLength !== this.ruleConfig.stackLength) {\r\n      Bus.updateConfig({snapshotLength: this.ruleConfig.stackLength})\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.sketch-box {\r\n  background: #EBEBEB;\r\n  overflow: hidden;\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.layer-box {\r\n  position: absolute;\r\n  width: fit-content;\r\n  height: fit-content;\r\n  transform-origin: left top;\r\n\r\n  .layer-content {\r\n    position: relative;\r\n    overflow: visible;\r\n    z-index: 2;\r\n  }\r\n\r\n  .sketch-stage {\r\n    position: absolute;\r\n    z-index: 0;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMS4wLjIsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOiNGRkZGRkY7fQ0KCS5zdDF7ZmlsbDojQ0JDQkNCO30NCjwvc3R5bGU+DQo8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz4NCjxnPg0KCTxyZWN0IHg9IjQiIGNsYXNzPSJzdDEiIHdpZHRoPSI4IiBoZWlnaHQ9IjQiLz4NCgk8cmVjdCB4PSIwIiB5PSI0IiBjbGFzcz0ic3QxIiB3aWR0aD0iNCIgaGVpZ2h0PSI4Ii8+DQoJPHJlY3QgeD0iNCIgeT0iMTIiIGNsYXNzPSJzdDEiIHdpZHRoPSI4IiBoZWlnaHQ9IjQiLz4NCgk8cmVjdCB4PSIxMiIgeT0iNCIgY2xhc3M9InN0MSIgd2lkdGg9IjQiIGhlaWdodD0iOCIvPg0KPC9nPg0KPC9zdmc+DQo=');\r\n    background-size: 16px;\r\n    background-position: 0, 0;\r\n    transform-origin: 0 0;\r\n  }\r\n\r\n  .item-box {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n  }\r\n\r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pdDragBase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pdDragBase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pdDragBase.vue?vue&type=template&id=3dc73a34&scoped=true&\"\nimport script from \"./pdDragBase.vue?vue&type=script&lang=js&\"\nexport * from \"./pdDragBase.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pdDragBase.vue?vue&type=style&index=0&id=3dc73a34&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dc73a34\",\n  null\n  \n)\n\nexport default component.exports","\r\nimport pdDragBase from \"@/dragBase/pdDragBase/pdDragBase\";\r\n\r\nconst components = [\r\n  pdDragBase\r\n];\r\n\r\nconst install = function (Vue) {\r\n  if (install.installed) return\r\n  components.map(component => {\r\n    Vue.component(component.name, component)\r\n  });\r\n  if (typeof window !== 'undefined' && window.Vue) {\r\n    install(window.Vue)\r\n  }\r\n};\r\nexport default {\r\n  install,\r\n  components,\r\n  pdDragBase\r\n}","import Vue from 'vue'\r\nimport create from \"./views/create\";\r\nimport roate from \"./views/roate\";\r\nimport installComponents from \"@/customComponents/installComponents\";\r\nimport pdDragBase from \"@/dragBase/install\";\r\nVue.use(installComponents)\r\nVue.use(pdDragBase)\r\nVue.config.productionTip = false\r\nnew Vue({\r\n  render: h => h(create)\r\n}).$mount('#app')\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./root.vue?vue&type=style&index=0&id=31f8df79&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragresizeroate.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dragdropbox.vue?vue&type=style&index=0&id=2c748eec&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dtext.vue?vue&type=style&index=0&id=ad972faa&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pdDragBase.vue?vue&type=style&index=0&id=3dc73a34&scoped=true&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-2!../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}